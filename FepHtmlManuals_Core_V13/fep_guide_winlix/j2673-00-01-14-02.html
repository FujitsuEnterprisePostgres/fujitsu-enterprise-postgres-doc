<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>1.14.2 Memory Usage Reduction Using Local Meta Cache Limit</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;General Description</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2673-00-01-00-00.html">Chapter&nbsp;1 FUJITSU Enterprise Postgres Basics</a> &gt; <a href="j2673-00-01-14-00.html">1.14 Memory Usage Reduce with Meta cache Reduction and Limit</a> &gt; 1.14.2 Memory Usage Reduction Using Local Meta Cache Limit</div><div class="back_next"><a href="j2673-00-01-14-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2673-a-00-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="IDguide01N27">1.14.2 Memory Usage Reduction Using Local Meta Cache Limit</h3><div class="body"><div class="textblock"><p>Local Meta Cache Limit feature limits the size of a Local Meta Cache by removing it if it has not been accessed for a long time.</p><p>Of the definitions that SQL accesses, the main factors that make the Local Meta Cache bloat are tables and indexes. In addition, table column definitions are also maintained as a catalog cache.</p><p>For example, in a system where one long-lived connection is shared by various businesses, one connection (that is, backend process) will access many tables. If there are 3,000 such connections, and each connection accesses a table of 50,000, the total amount of memory consumed by the 3,000 backend processes may be a few terabytes. </p><p>In such a case, using this feature may reduce it to about several tens of gigabytes.</p><div class="note"><p class="title">Note</p><div class="notebody"><p>This feature is available only in the Advanced Edition.</p></div></div><p></p></div><p class="subhead_1" id="IDguide01N28"><span class="em">Architecture of Local Meta Cache Limit </span><span class="em">f</span><span class="em">eature</span></p><div class="textblock"><p>When this feature is enabled, the caching strategy is to keep the cache as long as possible within the specified upper limit. If holding a new cache exceeds the limit, consider locality of reference and delete the cache from the one with the longest unreferenced time.</p><p>However, because the cache used by active transactions cannot be deleted, if a transaction uses a large number of caches, the cache may be held above the limit. In this case, delete the cache at the end of the transaction.</p><div class="ref"><p class="title">See</p><div class="refbody"><p>Local Meta Cache limit feature is disabled by default. Refer to "Local Meta Cache Limit" in the Operation Guide for information how to decide whether introduce it or not and usage.</p></div></div></div></div><div class="header_footer"><div class="back_next"><a href="j2673-00-01-14-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2673-a-00-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>