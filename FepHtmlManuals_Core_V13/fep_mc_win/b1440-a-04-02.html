<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>A.4.2 Arbitration Configuration File</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Cluster Operation Guide(Database Multiplexing)</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="b1440-a-00-00.html">Appendix&nbsp;A Parameters</a> &gt; <a href="b1440-a-04-00.html">A.4 Server Configuration File</a> &gt; A.4.2 Arbitration Configuration File</div><div class="back_next"><a href="b1440-a-04-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1440-b-00-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_0b0402">A.4.2 Arbitration Configuration File<a name="N121G"></a></h3><div class="body"><div class="textblock"><p>In arbitration.conf, define the information related to arbitration and control of the Mirroring Controller arbitration process. </p><p></p></div><p class="subhead_1" id="IDclust0bN6"><span class="em"></span><span class="em">Linux</span></p><div class="textblock"><table><caption>Table&nbsp;A.6 arbitration.conf file (Linux)<a name="N123G"></a></caption><col><col><col><tr><th valign="top"><p>Parameter</p></th><th valign="top"><p>Value set</p></th><th valign="top"><p>Description</p></th></tr><tr><td align="left" valign="top"><p>port</p></td><td align="left" valign="top"><p>Port number of the Mirroring Controller arbitration process</p></td><td align="left" valign="top"><p>The specified value must not exceed the range 0 to 65535. Ensure that the port number does not conflict with other software. Do not specify an ephemeral port that may temporarily be assigned by another program.</p><p>For the port number of the arbitration server to be specified in network.conf on the database server, specify the same value as the port number specified in this parameter.</p></td></tr><tr><td align="left" valign="top"><p>my_address</p></td><td align="left" valign="top"><p>'<span class="i">ipAddr</span><span class="i">OrHostName</span><span class="i">ThatAcceptsConnectionFromMirroringControllerProcessOnD</span><span class="i">b</span><span class="i">Server</span><span class="i">'</span></p><p>[Setting example]</p><p>my_address = '192.0.3.120'</p></td><td align="left" valign="top"><p>For the IP address or host name of the arbitration server to be specified in network.conf on the database server, specify the same value as the IP address or host name specified in this parameter.</p><p>IPv4 and IPv6 addresses can be specified.</p><p>Specify the IP address or host name, enclosed in single quotation marks (').</p></td></tr><tr><td align="left" valign="top"><p>core_file_path</p></td><td align="left" valign="top"><p>'<span class="i">coreFileOutputDir</span>'</p></td><td align="left" valign="top"><p>Specify the directory to which the core file is to be output, enclosed in single quotation marks ('). Use ASCII characters to specify this parameter.</p><p>If this parameter is omitted, it will be assumed that the Mirroring Controller arbitration process management directory was specified.</p></td></tr><tr><td align="left" valign="top"><p>syslog_facility</p></td><td align="left" valign="top"><p>Specify LOCAL0, LOCAL1, LOCAL2, LOCAL3, LOCAL4, LOCAL5, LOCAL6, or LOCAL7.</p></td><td align="left" valign="top"><p>When the import of logs to the syslog is enabled, the value of this parameter will be used for "facility" of the syslog.</p><p>The default is "LOCAL0".</p></td></tr><tr><td align="left" valign="top"><p>syslog_ident</p></td><td align="left" valign="top"><p>'<span class="i">programName</span>'</p></td><td align="left" valign="top"><p>Specify using single quotation marks (') to enclose the program name used to identify the Mirroring Controller arbitration process message in the system log. Use ASCII characters excluding spaces to specify this parameter.</p><p>The default is 'MirroringControllerArbiter'.</p></td></tr><tr><td align="left" valign="top"><p>fencing_command</p></td><td align="left" valign="top"><p>'<span class="i">fencingCmdFilePath</span>'</p><p>[Setting example]</p><p>fencing_command = '/arbiter/fencing_dir/execute_fencing.sh'</p></td><td align="left" valign="top"><p>Specify the full path of the fencing command that fences a database server where an error is determined to have occurred.</p><p>Enclose the path in single quotation marks (').</p><p>Specify the path using less than 1024 bytes.</p></td></tr><tr><td align="left" valign="top"><p>fencing_command_timeout</p></td><td align="left" valign="top"><p>Fencing command timeout (seconds)</p></td><td align="left" valign="top"><p>If the command does not respond within the specified number of seconds, fencing is determined to have failed and a signal (SIGTERM) is sent to the fencing command execution process.</p><p>Specify a value between 1 and 2147483647.</p><p>The default is 20 seconds.</p></td></tr><tr><td align="left" valign="top"><p>heartbeat_interval<span class="inline-note">*1</span></p></td><td align="left" valign="top"><p>Interval time for heartbeat monitoring of the operating system or server (milliseconds)</p></td><td align="left" valign="top"><p>The heartbeat monitoring of the database server is checked at the specified interval and arbitration is performed.</p><p>Specify a value between 1 and 2147483647.</p><p>The default is the value specified in <span class="i">serverIdentifier</span>.conf of the database server.</p><p>Specify this parameter to perform optimization taking into account differences in the line load to the admin network and the reduction in the time it takes to degrade.</p></td></tr><tr><td align="left" valign="top"><p>heartbeat_timeout</p></td><td align="left" valign="top"><p>Timeout for heartbeat monitoring of the operating system or server (seconds)</p></td><td align="left" valign="top"><p>If there is no response for at least the number of seconds specified, it will be assumed that an error has occurred that requires the primary server or standby server to be fenced.</p><p>Specify a value between 1 and 2147483647.</p><p>The default is the value specified in <span class="i">serverIdentifier</span>.conf of the database server.</p><p>Specify this parameter to perform optimization taking into account differences in the line load to the admin network and the reduction in the time it takes to degrade.</p></td></tr><tr><td align="left" valign="top"><p>heartbeat_retry</p></td><td align="left" valign="top"><p>Number of retries for heartbeat monitoring of the operating system or server (number of times)</p></td><td align="left" valign="top"><p>Specify the number of retries to be performed when an error has been detected that requires the primary server or standby server to be fenced.</p><p>If an error is detected in succession more than the specified number of times, fencing will be performed.</p><p>Specify a value between 0 and 2147483647.</p><p>The default is the value specified in <span class="i">serverIdentifier</span>.conf of the database server.</p><p>Specify this parameter to perform optimization taking into account differences in the line load to the admin network and the reduction in the time it takes to degrade.</p></td></tr></table><p class="supple">*1:Refer to "<a href="b1440-00-02-11-04.html">2.11.4 Tuning for Optimization of Degradation Using Abnormality Monitoring</a>" for information on the tuning parameters for operating system or server abnormality monitoring when using an arbitration server.</p></div><p class="subhead_1" id="IDclust0bN7"><span class="red"><span class="em"></span></span><span class="em">Windows</span></p><div class="textblock"><table><caption>Table&nbsp;A.7 arbitration.conf file (Windows)<a name="N124G"></a></caption><col><col><col><tr><th valign="top"><p>Parameter</p></th><th valign="top"><p>Value set</p></th><th valign="top"><p>Description</p></th></tr><tr><td align="left" valign="top"><p>port</p></td><td align="left" valign="top"><p>Port number of the Mirroring Controller arbitration process</p></td><td align="left" valign="top"><p>The specified value must not exceed the range 0 to 65535. Ensure that the port number does not conflict with other software. Do not specify an ephemeral port that may temporarily be assigned by another program.</p><p>For the port number of the arbitration server to be specified in network.conf on the database server, specify the same value as the port number specified in this parameter.</p></td></tr><tr><td align="left" valign="top"><p>my_address</p></td><td align="left" valign="top"><p>'<span class="i">ipAddr</span><span class="i">OrHostName</span><span class="i">ThatAcceptsConnectionFromMirroringContro</span><span class="i">llerProcessOnD</span><span class="i">b</span><span class="i">Server</span><span class="i">'</span></p><p>[Setting example]</p><p>my_address = '192.0.3.120'</p></td><td align="left" valign="top"><p>For the IP address or host name of the arbitration server to be specified in network.conf on the database server, specify the same value as the IP address or host name specified in this parameter.</p><p>IPv4 and IPv6 addresses can be specified.</p><p>Specify the IP address or host name, enclosed in single quotation marks (').</p></td></tr><tr><td align="left" valign="top"><p>core_file_path</p></td><td align="left" valign="top"><p>'<span class="i">coreFileOutputDir</span>'</p></td><td align="left" valign="top"><p>Specify the directory to which the core file is to be output, enclosed in single quotation marks ('). Use ASCII characters, and specify "\\" as the path delimiter.</p><p>If this parameter is omitted, it will be assumed that the Mirroring Controller arbitration process management directory was specified.</p></td></tr><tr><td align="left" valign="top"><p>service_name</p></td><td align="left" valign="top"><p>'<span class="i">registeredServiceNameOfMirroringControllerArbitrationProcess'</span></p></td><td align="left" valign="top"><p>Specify the Mirroring Controller arbitration process service name to be registered as a Windows service, enclosed in single quotation marks ('). Use ASCII characters excluding forward slash (/) and backslash (\) to specify this parameter.</p><p>The service name is up to 124 bytes.</p><p>The default is 'MirroringControllerArbiter'.</p></td></tr><tr><td align="left" valign="top"><p>event_source</p></td><td align="left" valign="top"><p><span class="i">'eventSourceName'</span></p></td><td align="left" valign="top"><p>Specify the event source name to be used to identify the Mirroring Controller arbitration process message in the event log, enclosed in single quotation marks ('). Use ASCII characters to specify this parameter.</p><p>The maximum length of the event source name is 255 bytes.</p><p>The default is 'MirroringControllerArbiter'.</p></td></tr><tr><td align="left" valign="top"><p>fencing_command</p></td><td align="left" valign="top"><p>'<span class="i">fencingCmdFilePath</span>'</p><p>[Setting example]</p><p>fencing_command = 'c:\\arbiter\\fencing_dir\\execute_fencing.bat'</p></td><td align="left" valign="top"><p>Specify the full path of the fencing command that fences a database server where an error is determined to have occurred.</p><p>Specify "\\" as the delimiter.</p><p>Enclose the path in single quotation marks (').</p><p>Specify the path using less than 260 bytes.</p><p>Any multibyte characters must use the same encoding as the operating system.</p></td></tr><tr><td align="left" valign="top"><p>fencing_command_timeout</p></td><td align="left" valign="top"><p>Fencing command timeout (seconds)</p></td><td align="left" valign="top"><p>If the command does not respond within the specified number of seconds, fencing is determined to have failed and a signal (SIGTERM) is sent to the fencing command execution process.</p><p>Specify a value between 1 and 2147483647.</p><p>The default is 20 seconds.</p></td></tr><tr><td align="left" valign="top"><p>heartbeat_interval<span class="inline-note">*1</span></p></td><td align="left" valign="top"><p>Interval time for heartbeat monitoring of the operating system or server (milliseconds)</p></td><td align="left" valign="top"><p>The heartbeat monitoring of the database server is checked at the specified interval and arbitration is performed.</p><p>Specify a value between 1 and 2147483647.</p><p>The default is the value specified in <span class="i">serverIdentifier</span>.conf of the database server.</p><p>Specify this parameter to perform optimization taking into account differences in the line load to the admin network and the reduction in the time it takes to degrade.</p></td></tr><tr><td align="left" valign="top"><p>heartbeat_timeout</p></td><td align="left" valign="top"><p>Timeout for heartbeat monitoring of the operating system or server (seconds)</p></td><td align="left" valign="top"><p>If there is no response for at least the number of seconds specified, it will be assumed that an error has occurred that requires the primary server or standby server to be fenced.</p><p>Specify a value between 1 and 2147483647.</p><p>The default is the value specified in <span class="i">serverIdentifier</span>.conf of the database server.</p><p>Specify this parameter to perform optimization taking into account differences in the line load to the admin network and the reduction in the time it takes to degrade.</p></td></tr><tr><td align="left" valign="top"><p>heartbeat_retry</p></td><td align="left" valign="top"><p>Number of retries for heartbeat monitoring of the operating system or server (number of times)</p></td><td align="left" valign="top"><p>Specify the number of retries to be performed when an error has been detected that requires the primary server or standby server to be fenced.</p><p>If an error is detected in succession more than the specified number of times, fencing will be performed.</p><p>Specify a value between 0 and 2147483647.</p><p>The default is the value specified in <span class="i">serverIdentifier</span>.conf of the database server.</p><p>Specify this parameter to perform optimization taking into account differences in the line load to the admin network and the reduction in the time it takes to degrade.</p></td></tr></table><p class="supple">*1:Refer to "<a href="b1440-00-02-11-04.html">2.11.4 Tuning for Optimization of Degradation Using Abnormality Monitoring</a>" for information on the tuning parameters for operating system or server abnormality monitoring when using an arbitration server.</p></div></div><div class="header_footer"><div class="back_next"><a href="b1440-a-04-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1440-b-00-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2016-2021 FUJITSU LIMITED</div></div></body></html>