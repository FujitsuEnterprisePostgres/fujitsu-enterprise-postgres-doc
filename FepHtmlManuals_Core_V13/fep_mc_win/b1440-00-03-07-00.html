<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>3.7 Monitoring Mirroring Controller Messages</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Cluster Operation Guide(Database Multiplexing)</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="b1440-00-03-00-00.html">Chapter&nbsp;3 Operations in Database Multiplexing Mode</a> &gt; 3.7 Monitoring Mirroring Controller Messages</div><div class="back_next"><a href="b1440-00-03-06-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1440-00-03-08-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h2 id="mID_0705">3.7 Monitoring Mirroring Controller Messages<a name="N75G"></a></h2><div class="body"><div class="textblock"><p>The messages that are output by Mirroring Controller are output to both the database server and the arbitration server. If the automatic switch fails, for example, an important message related to the continuation of the operation may be output, so ensure that the system log messages are monitored.</p><p>If the arbitration server is used for automatic degradation, monitor messages on both the database server and the arbitration server.</p><dl><dt class="em">Message output destination on the database server</dt><dd><p>Messages are output to the event log.</p></dd></dl><dl><dt class="em">Message output destination on the arbitration server</dt><dd><dl><dd></dd></dl><dl><dt class="em">Linux</dt><dd><p>Messages are output to the system log.</p></dd></dl><dl><dt class="em">Windows</dt><dd><p>Messages are output to the event log.</p></dd></dl></dd></dl><dl><dd></dd></dl><div class="point"><p class="title">Point</p><div class="pointbody"><ul><li><p>To monitor message types considered to be important, an operating system setting must be configured beforehand. Refer to the operating system manuals, check if the message is of a message type that is monitored to be output to the system log, and configure the setting if required.</p></li><li><p>If the heartbeat_error_action parameter in <span class="i">serverIdentifier</span>.conf is set to "message", only message output is performed when a heartbeat abnormality is detected during heartbeat monitoring of operating systems and servers - automatic switch/disconnection is not performed. Therefore users need to monitor the messages. Refer to "<a href="b1440-00-03-06-00.html">3.6 Action Required when a Heartbeat Abnormality is Detected</a>" for details.</p></li></ul></div></div><p></p></div><p class="subhead_1" id="IDclust07N10"><span class="em">Display format</span><span class="em"> </span><span class="em">on the database server</span></p><div class="textblock"><pre class="border"><span class="i">eventSourceName</span>[<span class="i">processId</span>]: <span class="i">messageType</span><span class="i">: messageContent</span><span class="i"> (messageNumber)</span></pre><p>Specify the event source name in the event_source parameter of the serverIdentifier.<span class="i">conf</span> file of the database server.</p><br><p>The message types output by Mirroring Controller, their severity, and their corresponding value in the event log are shown in the table below.</p><table><caption>Table&nbsp;3.1 Message type, severity, and corresponding value in the event log</caption><col><col><col><col><tr><th valign="top"><p>Message type</p></th><th valign="top"><p>Severity</p></th><th valign="top"><p>Meaning</p></th><th valign="top"><p>Event log</p></th></tr><tr><td align="left" valign="top"><p>INFO</p></td><td rowspan="2" align="left" valign="top"><p>Information</p></td><td align="left" valign="top"><p>Provides information that does not fall under LOG or NOTICE.</p></td><td rowspan="3" align="left" valign="top"><p>INFORMATION</p></td></tr><tr><td align="left" valign="top"><p>LOG</p></td><td align="left" valign="top"><p>Provides information recognized as a particularly important event in tracing the operation history.</p><p>(Example: Automatic switch is complete)</p></td></tr><tr><td align="left" valign="top"><p>NOTICE</p></td><td align="left" valign="top"><p>Notice</p></td><td align="left" valign="top"><p>Outputs information that takes into account the user instructions within the program in response to an executed or automatically executed process.</p></td></tr><tr><td align="left" valign="top"><p>WARNING</p></td><td align="left" valign="top"><p>Warning</p></td><td align="left" valign="top"><p>Provides a warning, for example it will soon be impossible to maintain multiplexing capabilities.</p></td><td align="left" valign="top"><p>WARNING</p></td></tr><tr><td align="left" valign="top"><p>ERROR</p></td><td rowspan="3" align="left" valign="top"><p>Error</p></td><td align="left" valign="top"><p>Reports that an error other than FATAL or PANIC has occurred.</p></td><td rowspan="3" align="left" valign="top"><p>ERROR</p></td></tr><tr><td align="left" valign="top"><p>FATAL</p></td><td align="left" valign="top"><p>Reports that an abnormality was detected in the multiplexed database systems requiring recovery of the system, and also the content and cause of the abnormality.</p></td></tr><tr><td align="left" valign="top"><p>PANIC</p></td><td align="left" valign="top"><p>Reports that an abnormality was detected in all multiplexed database systems requiring immediate recovery of the system, and also the content and cause of the abnormality.</p></td></tr></table><p>The message severity has the following meanings:</p><ul><li><p>Information</p><p>Informational status. A message that was reported by the system is displayed. No action is required.</p></li><li><p>Notice</p><p>Informational status, but a message that should be noted is displayed. If necessary, take the actions described in the "Action" section of the message.</p></li><li><p>Warning</p><p>No error has occurred, but the user is requested to check, and take action. Take the actions described in the "Action" section of the message.</p></li><li><p>Error</p><p>An error has occurred. Take the actions described in the "Action" section of the message.</p></li></ul></div><p class="subhead_1" id="IDclust07N11"><span class="em">Display format on the arbitration server</span></p><div class="textblock"><dl><dd></dd></dl><dl><dt class="em">Linux</dt><dd><pre class="border"><span class="i">programName</span>[<span class="i">processId</span>]: <span class="i">messageType</span>: <span class="i">messageText</span> (<span class="i">messageNumber</span>)</pre><p>Specify the program name in the syslog_ident parameter of the arbitration.conf file of the arbitration server.</p></dd></dl><dl><dt class="em">Windows</dt><dd><pre class="border"><span class="i">eventSourceName</span>[<span class="i">processId</span>]: <span class="i">messageType</span>: <span class="i">messageText</span> (<span class="i">messageNumber</span>)</pre><p>Specify the event source name in the event_source parameter of the arbitration.conf file of the arbitration server.</p></dd></dl><br><p>The message types output by Mirroring Controller, their severity, and their corresponding value in the output destination log are shown in the table below.</p><table><caption>Table&nbsp;3.2 Message type, severity, and corresponding value in the output destination log</caption><col><col><col><col><col><tr><th valign="middle"><p>Message type</p></th><th valign="middle"><p>Severity</p></th><th valign="middle"><p>Meaning</p></th><th valign="middle"><p>System log</p><p>(Linux)</p></th><th valign="middle"><p>Event log <br>(Windows)</p></th></tr><tr><td align="left" valign="top"><p>INFO</p></td><td rowspan="2" align="left" valign="top"><p>Information</p></td><td align="left" valign="top"><p>Provides information not categorized as LOG or NOTICE.</p></td><td rowspan="2" align="left" valign="top"><p>INFO</p></td><td rowspan="3" align="left" valign="top"><p>INFORMATION</p></td></tr><tr><td align="left" valign="top"><p>LOG</p></td><td align="left" valign="top"><p>Provides information recognized as a particularly important event in tracing the operation history.</p><p>(Example: Automatic switch is complete)</p></td></tr><tr><td align="left" valign="top"><p>NOTICE</p></td><td align="left" valign="top"><p>Notice</p></td><td align="left" valign="top"><p>Outputs information that takes into account the user instructions within the program in response to an executed or automatically executed process.</p></td><td align="left" valign="top"><p>NOTICE</p></td></tr><tr><td align="left" valign="top"><p>WARNING</p></td><td align="left" valign="top"><p>Warning</p></td><td align="left" valign="top"><p>Provides a warning, for example it will soon be impossible to perform the arbitration process.</p></td><td align="left" valign="top"><p>WARNING</p></td><td align="left" valign="top"><p>WARNING</p></td></tr><tr><td align="left" valign="top"><p>ERROR</p></td><td rowspan="3" align="left" valign="top"><p>Error</p></td><td align="left" valign="top"><p>Reports that an error other than FATAL or PANIC has occurred.</p></td><td align="left" valign="top"><p>ERROR</p></td><td rowspan="3" align="left" valign="top"><p>ERROR</p></td></tr><tr><td align="left" valign="top"><p>FATAL</p></td><td align="left" valign="top"><p>Reports that an abnormality was detected in the arbitration server requiring recovery of the system, and also the content and cause of the abnormality.</p></td><td align="left" valign="top"><p>CRIT</p></td></tr><tr><td align="left" valign="top"><p>PANIC</p></td><td align="left" valign="top"><p>Reports that an abnormality was detected in the arbitration server requiring immediate recovery of the system, and also the content and cause of the abnormality.</p></td><td align="left" valign="top"><p>ALERT</p></td></tr></table><p>The message severity has the following meanings:</p><ul><li><p>Information</p><p>Informational status. A message that was reported by the system is displayed. No action is required.</p></li><li><p>Notice</p><p>Informational status, but a message that should be noted is displayed. If necessary, take the actions described in the "Action" section of the message.</p></li><li><p>Warning</p><p>No error has occurred, but the user is requested to check, and take action. Take the actions described in the "Action" section of the message.</p></li><li><p>Error</p><p>An error has occurred. Take the actions described in the "Action" section of the message.</p></li></ul></div></div><div class="header_footer"><div class="back_next"><a href="b1440-00-03-06-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1440-00-03-08-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2016-2021 FUJITSU LIMITED</div></div></body></html>