<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>3.2.1 Starting Mirroring Controller</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Cluster Operation Guide(Database Multiplexing)</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="b1440-00-03-00-00.html">Chapter&nbsp;3 Operations in Database Multiplexing Mode</a> &gt; <a href="b1440-00-03-02-00.html">3.2 Starting and Stopping Mirroring Controller</a> &gt; 3.2.1 Starting Mirroring Controller</div><div class="back_next"><a href="b1440-00-03-02-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1440-00-03-02-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_070101_w">3.2.1 Starting Mirroring Controller<a name="N67G"></a></h3><div class="body"><div class="textblock"><p>Mirroring Controller can be started using one of the following:</p><ul><li><p>Using the mc_ctl command</p></li><li><p>Starting a service on system startup</p></li></ul><div class="note"><p class="title">Note</p><div class="notebody"><p>Mirroring Controller must be started by a user with administrator privileges (user ID belonging to the Administrators group).</p></div></div><dl><dt class="em">Using the mc_ctl command</dt><dd><p>While Mirroring Controller is in a stopped state, execute the mc_ctl command from the command prompt to start the instance and Mirroring Controller.</p><dl><dt class="em">Enabling automatic switch/disconnection</dt><dd><p>Execute the mc_ctl command in start mode.</p><pre>Example) </pre><pre class="border">&gt; mc_ctl start -M D:\mcdir\inst1</pre></dd></dl><dl><dt class="em">Disabling automatic switch/disconnection</dt><dd><p>Execute the mc_ctl command in start mode with the -F option specified.</p><pre>Example) </pre><pre class="border">&gt; mc_ctl start -M D:\mcdir\inst1 -F</pre></dd></dl><div class="point"><p class="title">Point</p><div class="pointbody"><ul><li><p>To start the Mirroring Controller process only, execute the mc_ctl command in start mode with the --mc-only option specified.</p></li><li><p>After Mirroring Controller is started, automatic switch/disconnection can be enabled or disabled using the enable-failover or disable-failover mode of the mc_ctl command.</p></li><li><p>When the arbitration server is used for automatic degradation, the Mirroring Controller process startup fails on the database server if the Mirroring Controller arbitration process has not been started on the arbitration server in advance. However, even if the Mirroring Controller arbitration process cannot be started in advance, the Mirroring Controller process can be started by specifying the --async-connect-arbiter option in the mc_ctl command.</p></li></ul></div></div><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to the Command Reference for information on how to specify the mc_ctl command.</p></div></div></dd></dl><dl><dt class="em">Starting a service on system startup</dt><dd><p>Specify automatic start when registering Mirroring Controller to the Windows service during setup of database multiplexing mode. Accordingly, the Mirroring Controller service will start on startup of the operating system.</p><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "<a href="b1440-00-02-12-00.html">2.12 Setting Automatic Start and Stop of Mirroring Controller and Multiplexed Instances</a>" for details.</p></div></div></dd></dl><div class="note"><p class="title">Note</p><div class="notebody"><ul><li><p>Mirroring Controller startup usually fails if the standby server is mistakenly started as the primary server or if the old primary server is not recovered after the switch and is then mistakenly started as the primary server. However, if the admin network is disconnected, then startup does not fail, and both servers may become primary servers. Therefore, ensure that the admin network is connected before starting Mirroring Controller.</p></li><li><p>When only the instance is started without starting Mirroring Controller, the impact will be as follows:</p><ul><li><p>Enabling automatic switch/disconnection</p><p>Features such as automatic switch and automatic disconnection will not work until Mirroring Controller is started.</p></li><li><p>Disabling automatic switch/disconnection</p><p>Errors indicated in "<a href="b1440-00-01-01-00.html">1.1 What is Database Multiplexing Mode</a>" will not be detected until Mirroring Controller is started.</p></li></ul></li></ul></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="b1440-00-03-02-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1440-00-03-02-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2016-2021 FUJITSU LIMITED</div></div></body></html>