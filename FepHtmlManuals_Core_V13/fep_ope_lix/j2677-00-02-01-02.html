<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>2.1.2 Using Server Commands</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Operation Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2677-00-02-00-00.html">Chapter&nbsp;2 Starting an Instance and Creating a Database</a> &gt; <a href="j2677-00-02-01-00.html">2.1 Starting and Stopping an Instance</a> &gt; 2.1.2 Using Server Commands</div><div class="back_next"><a href="j2677-00-02-01-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2677-00-02-02-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="br021200">2.1.2 Using Server Commands<a name="N11G"></a></h3><div class="body"><div class="textblock"><p>Server commands enable you to start or stop an instance and check its operating status.</p><p>To use sever commands, configure the environment variables.</p><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to " Configure the environment variables" in the procedure to create instances in " Using the initdb Command" in the Installation and Setup Guide for Server for information on configuring the environment variables.</p></div></div><p></p></div><p class="subhead_1" id="ID02000000N4"><span class="em">Starting an instance</span><a name="N12G"></a><span class="em"></span></p><div class="textblock"><p>Use the pg_ctl command to start an instance.</p><p>Specify the following values in the pg_ctl command:</p><ul><li><p>Specify "start" as the mode.</p></li><li><p>Specify the data storage destination in the -D option. If the -D option is omitted, the value of the PGDATA environment variable is used by default.</p></li></ul><p>If an application, command, or process tries to connect to the database while the instance is starting up, the message "FATAL:the database system is starting up(11189)" is output. However, this message may also be output if the instance is started without the -W option specified.<br>This message is output by the pg_ctl command to check if the instance has started successfully. Therefore, ignore this message if there are no other applications, commands, or processes that connect to the database.</p><div class="ex"><p class="title">Example</p><div class="exbody"><pre class="border">&gt; pg_ctl start -D /database/inst1</pre></div></div><div class="note"><p class="title">Note</p><div class="notebody"><p>If the -W option is specified, the command will return without waiting for the instance to start. Therefore, it may be unclear as to whether the instance startup was successful or failed.</p></div></div></div><p class="subhead_1" id="ID02000000N5"><span class="em">Stopping an instance</span><a name="N13G"></a><span class="em"></span></p><div class="textblock"><p>Use the pg_ctl command to stop an instance.</p><p>Specify the following values in the pg_ctl command:</p><ul><li><p>Specify "stop" as the mode.</p></li><li><p>Specify the data storage destination in the -D option. If the -D option is omitted, the value of the PGDATA environment variable is used by default.</p></li></ul><div class="ex"><p class="title">Example</p><div class="exbody"><pre class="border">&gt; pg_ctl stop -D /database/inst1</pre></div></div></div><p class="subhead_1" id="ID02000000N6"><span class="em">Checking the operating status of an instance</span><a name="N14G"></a><span class="em"></span></p><div class="textblock"><p>Use the pg_ctl command to check the operating status of an instance.</p><p>Specify the following values in the pg_ctl command:</p><ul><li><p>Specify "status" as the mode.</p></li><li><p>Specify the data storage destination in the -D option. If the -D option is omitted, the value of the PGDATA environment variable is used by default.</p></li></ul><div class="ex"><p class="title">Example</p><div class="exbody"><p>When the instance is active:</p><pre class="border">&gt; pg_ctl status -D /database/inst1pg_ctl: server is running (PID: 1234)</pre><p>When the instance is inactive:</p><pre class="border">&gt; pg_ctl status -D /database/inst1pg_ctl: no server running.</pre></div></div><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "pg_ctl" under "Reference" in the PostgreSQL Documentation for information on pg_ctl command.</p></div></div></div></div><div class="header_footer"><div class="back_next"><a href="j2677-00-02-01-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2677-00-02-02-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>