<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>D.11.2 CONNECT</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-d-00-00.html">Appendix&nbsp;D ECOBPG - Embedded SQL in COBOL</a> &gt; <a href="j2681-d-11-00.html">D.11 Embedded SQL Commands</a> &gt; D.11.2 CONNECT</div><div class="back_next"><a href="j2681-d-11-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-d-11-03.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_0e11_connect">D.11.2 CONNECT</h3><div class="body"><div class="textblock"><p></p></div><p class="subhead_1" id="IDapl0eN9"><span class="em">Name</span></p><div class="textblock"><p>CONNECT -- establish a database connection</p></div><p class="subhead_1" id="IDapl0eN10"><span class="em">Synopsis</span></p><div class="textblock"><pre>CONNECT TO connection_target [ AS connection_name ] [ USER connection_user_name ]</pre><pre>CONNECT TO DEFAULT</pre><pre>CONNECT connection_user_name</pre><pre>DATABASE connection_target</pre></div><p class="subhead_1" id="IDapl0eN11"><span class="em">Description</span></p><div class="textblock"><p>The CONNECT command establishes a connection between the client and the PostgreSQL server.</p></div><p class="subhead_1" id="IDapl0eN12"><span class="em">Parameters</span></p><div class="textblock"><dl><dt class="em">connection_target</dt><dd><p>connection_target specifies the target server of the connection on one of several forms.</p><dl><dt class="em">[ database_name ] [ @host ] [ :port ]</dt><dd><p>Connect over TCP/IP</p></dd></dl><dl><dt class="em">unix:postgresql://host [ :port ] / [ database_name ] [ ?connection_option ]</dt><dd><p>Connect over Unix-domain sockets</p></dd></dl><dl><dt class="em">tcp:postgresql://host [ :port ] / [ database_name ] [ ?connection_option ]</dt><dd><p>Connect over TCP/IP</p></dd></dl><dl><dt class="em">SQL string constant</dt><dd><p>containing a value in one of the above forms</p></dd></dl><dl><dt class="em">host variable</dt><dd><p>host variable of fixed-length string (trailing spaces are ignored) containing a value in one of the above forms</p></dd></dl></dd></dl><dl><dt class="em">connection_name</dt><dd><p>An optional identifier for the connection, so that it can be referred to in other commands. This can be an SQL identifier or a host variable.</p></dd></dl><dl><dt class="em">connection_user_name</dt><dd><p>The user name for the database connection.</p><p>This parameter can also specify user name and password, using one the forms user_name/password, user_name IDENTIFIED BY password, or user_name USING password.</p><p>User name and password can be SQL identifiers, string constants, or host variables (fixed-length string, trailing spaces are ignored).</p></dd></dl><dl><dt class="em">DEFAULT</dt><dd><p>Use all default connection parameters, as defined by libpq.</p></dd></dl></div><p class="subhead_1" id="IDapl0eN13"><span class="em">Examples</span></p><div class="textblock"><p>Here a several variants for specifying connection parameters:</p><pre class="border">EXEC SQL CONNECT TO "connectdb" AS main END-EXEC.EXEC SQL CONNECT TO "connectdb" AS second END-EXEC.EXEC SQL CONNECT TO "unix:postgresql://localhost/connectdb" AS main USER connectuser END-EXEC.EXEC SQL CONNECT TO 'connectdb' AS main END-EXEC.EXEC SQL CONNECT TO 'unix:postgresql://localhost/connectdb' AS main USER :user END-EXEC.EXEC SQL CONNECT TO :dbn AS :idt END-EXEC.EXEC SQL CONNECT TO :dbn USER connectuser USING :pw END-EXEC.EXEC SQL CONNECT TO @localhost AS main USER connectdb END-EXEC.EXEC SQL CONNECT TO REGRESSDB1 as main END-EXEC.EXEC SQL CONNECT TO connectdb AS :idt END-EXEC.EXEC SQL CONNECT TO connectdb AS main USER connectuser/connectdb END-EXEC.EXEC SQL CONNECT TO connectdb AS main END-EXEC.EXEC SQL CONNECT TO connectdb@localhost AS main END-EXEC.EXEC SQL CONNECT TO tcp:postgresql://localhost/ USER connectdb END-EXEC.EXEC SQL CONNECT TO tcp:postgresql://localhost/connectdb USER connectuser IDENTIFIED BY connectpw END-EXEC.EXEC SQL CONNECT TO tcp:postgresql://localhost:20/connectdb USER connectuser IDENTIFIED BY connectpw END-EXEC.EXEC SQL CONNECT TO unix:postgresql://localhost/ AS main USER connectdb END-EXEC.EXEC SQL CONNECT TO unix:postgresql://localhost/connectdb AS main USER connectuser END-EXEC.EXEC SQL CONNECT TO unix:postgresql://localhost/connectdb USER connectuser IDENTIFIED BY "connectpw" END-EXEC.EXEC SQL CONNECT TO unix:postgresql://localhost/connectdb USER connectuser USING "connectpw" END-EXEC.EXEC SQL CONNECT TO unix:postgresql://localhost/connectdb?connect_timeout=14 USER connectuser END-EXEC.</pre><br><p>Here is an example program that illustrates the use of host variables to specify connection parameters:</p><pre class="border">EXEC SQL BEGIN DECLARE SECTION END-EXEC.*   database name    01 DBNAME PIC X(6).*   connection user name    01 USER PIC X(8).*   connection string    01 CONNECTION PIC X(38).    01 VER PIC X(256).EXEC SQL END DECLARE SECTION END-EXEC.	MOVE "testdb" TO DBNAME.	MOVE "testuser" TO USER.	MOVE "tcp:postgresql://localhost:5432/testdb" TO CONNECTION.    EXEC SQL CONNECT TO :DBNAME USER :USER END-EXEC.    EXEC SQL SELECT version() INTO :VER END-EXEC.    EXEC SQL DISCONNECT END-EXEC.    DISPLAY "version: " VER.    EXEC SQL CONNECT TO :CONNECTION USER :USER END-EXEC.    EXEC SQL SELECT version() INTO :VER END-EXEC.    EXEC SQL DISCONNECT END-EXEC.    DISPLAY "version: " VER.</pre></div><p class="subhead_1" id="IDapl0eN14"><span class="em">Compatibility</span></p><div class="textblock"><p>CONNECT is specified in the SQL standard, but the format of the connection parameters is implementation-specific.</p></div><p class="subhead_1" id="IDapl0eN15"><span class="em">See Also</span></p><div class="textblock"><p><a href="j2681-d-11-06.html"><span class="u">DISCONNECT</span></a>, <a href="j2681-d-11-12.html"><span class="u">SET CONNECTION</span></a></p></div></div><div class="header_footer"><div class="back_next"><a href="j2681-d-11-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-d-11-03.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>