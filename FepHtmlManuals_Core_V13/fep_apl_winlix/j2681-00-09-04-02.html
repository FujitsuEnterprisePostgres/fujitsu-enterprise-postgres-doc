<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>9.4.2 SUBSTR</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-00-09-00-00.html">Chapter&nbsp;9 Compatibility with Oracle Databases</a> &gt; <a href="j2681-00-09-04-00.html">9.4 SQL Function Reference</a> &gt; 9.4.2 SUBSTR</div><div class="back_next"><a href="j2681-00-09-04-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-09-04-03.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_070402">9.4.2 SUBSTR<a name="N48G"></a></h3><div class="body"><div class="textblock"><dl><dt class="em">Description</dt><dd><p>Extracts part of a string using characters to specify position and length.</p></dd></dl><dl><dt class="em">Syntax</dt><dd><pre>SUBSTR(<span class="i">str</span>, <span class="i">startPos</span> [, <span class="i">len</span> ])</pre></dd></dl><dl><dt class="em">General rules</dt><dd></dd></dl><ul><li><p>SUBSTR extracts and returns a substring of string <span class="i">str</span>, beginning at position <span class="i">startPos</span>, for number of characters <span class="i">len</span>.</p></li><li><p>When <span class="i">startPos</span> is positive, it will be the number of characters from the beginning of the string.</p></li><li><p>When <span class="i">startPos</span> is 0, it will be treated as 1.</p></li><li><p>When <span class="i">startPos</span> is negative, it will be the number of characters from the end of the string.</p></li><li><p>When <span class="i">len</span> is not specified, all characters to the end of the string are returned. NULL is returned when <span class="i">len</span> is less than 1.</p></li><li><p>For <span class="i">startPos</span> and <span class="i">len</span>, specify a SMALLINT or INTEGER type. When specifying literals, refer to "<a href="j2681-a-03-00.html#mID_0a010301_table1">Table&nbsp;A.1 Data type combinations that contain literals and can be converted implicitly</a>" in "<a href="j2681-a-03-00.html">A.3 Implicit Data Type Conversions</a>" for information on the data types that can be specified.</p></li><li><p>The data type of the return value is TEXT.</p></li></ul><div class="note"><p class="title">Note</p><div class="notebody"><ul><li><p>There are two types of SUBSTR. One that behaves as described above, and one that behaves the same as SUBSTRING. The search_path parameter must be modified for it to behave the same as the specification described above.</p></li><li><p>It is recommended to set search_path in postgresql.conf. In this case, it will be effective for each instance. Refer to "<a href="j2681-00-09-02-01.html">9.2.1 Notes on SUBSTR</a>" for information on how to configure postgresql.conf.</p></li><li><p>The configuration of search_path can be done at the user level or at the database level. Setting examples are shown below.</p><ul><li><p>Example of setting at the user level</p><p>This can be set by executing an SQL command. In this example, user1 is used as the username.</p><pre class="border">ALTER USER user1 SET search_path = "$user",public,oracle,pg_catalog;</pre></li><li><p>Example of setting at the database level</p><p>This can be set by executing an SQL command. In this example, db1 will be used as the database name.</p><pre class="border">ALTER DATABASE db1 SET search_path = "$user",public,oracle,pg_catalog;</pre><p>You must specify "oracle" before "pg_catalog".</p></li></ul></li><li><p>If the change has not been implemented, SUBSTR is the same as SUBSTRING.</p></li></ul></div></div><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "SQL Commands" in "Reference" in the PostgreSQL Documentation for information on ALTER USER and ALTER DATABASE.</p></div></div><div class="tips"><p class="title">Information</p><div class="tipsbody"><p>The general rules for SUBSTRING are as follows:</p><ul><li><p>The start position will be from the beginning of the string, whether positive, 0, or negative.</p></li><li><p>When <span class="i">len</span> is not specified, all characters to the end of the string are returned.</p></li><li><p>An empty string is returned if no string is extracted or <span class="i">len</span> is less than 1.</p></li></ul></div></div><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "String Functions and Operators" under "The SQL Language" in the PostgreSQL Documentation for information on SUBSTRING.</p></div></div><div class="ex"><p class="title">Example</p><div class="exbody"><p>In the following example, part of the string "ABCDEFG" is extracted:</p><pre class="border">SELECT SUBSTR('ABCDEFG',3,4) "Substring" FROM DUAL;  Substring----------- CDEF(1 row)SELECT SUBSTR('ABCDEFG',-5,4) "Substring" FROM DUAL; Substring-----------(1 row)</pre></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="j2681-00-09-04-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-09-04-03.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>