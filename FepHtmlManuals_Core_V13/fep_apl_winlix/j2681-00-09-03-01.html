<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>9.3.1 Outer Join Operator (+)</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-00-09-00-00.html">Chapter&nbsp;9 Compatibility with Oracle Databases</a> &gt; <a href="j2681-00-09-03-00.html">9.3 Queries</a> &gt; 9.3.1 Outer Join Operator (+)</div><div class="back_next"><a href="j2681-00-09-03-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-09-03-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_070301">9.3.1 Outer Join Operator (+)<a name="N45G"></a></h3><div class="body"><div class="textblock"><p>In the WHERE clause conditional expression, by adding the plus sign (+), which is the outer join operator, to the column of the table you want to add as a table join, it is possible to achieve an outer join that is the same as a joined table (OUTER JOIN).</p><dl><dt class="em">Syntax</dt><dd><dl><dt class="em">SELECT statement</dt><dd><pre>SELECT &hellip; [WHERE [NOT] <span class="i">joinCond </span>...] &hellip;<span class="i"><br></span>SELECT &hellip; [WHERE <span class="i">srchCond </span>]... ] &hellip;</pre></dd></dl><dl><dt class="em">Join condition</dt><dd><pre>{ colSpec(+) = colSpec | colSpec = colSpec(+) }</pre></dd></dl></dd></dl><div class="note"><p class="title">Note</p><div class="notebody"><p>Here we are dealing only with the WHERE clause of the SELECT statement. Refer to "SQL Commands" in "Reference" in the PostgreSQL Documentation for information on the overall syntax of the SELECT statement.</p></div></div><dl><dt class="em">General rules</dt><dd><dl><dt class="em">WHERE clause</dt><dd></dd></dl><ul><li><p>The WHERE clause specifies search condition or join conditions for the tables that are derived.</p></li><li><p>Search conditions are any expressions that return BOOLEAN types as the results of evaluation. Any rows that do not meet these conditions are excluded from the output. When the values of the actual rows are assigned to variables and if the expression returns TRUE, those rows are considered to have met the conditions.</p></li><li><p>Join conditions are comparison conditions that specify outer join operators. Join conditions in a WHERE clause return a table that includes all the rows that meet the join conditions, including rows that do not meet all the join conditions.</p></li><li><p>Join conditions take precedence over search conditions. For this reason, all rows returned by the join conditions are subject to the search conditions.</p></li><li><p>The following rules and restrictions apply to queries that use outer join operators. It is therefore recommended to use FROM clause joined tables (OUTER JOIN) rather than outer join operators:</p><ul><li><p>Outer join operators can only be specified in the WHERE clause.</p></li><li><p>Outer join operators can only be specified for base tables or views.</p></li><li><p>To perform outer joins using multiple join conditions, it is necessary to specify outer join operators for all join conditions.</p></li><li><p>When combining join conditions with constants, specify outer join operators in the corresponding column specification. When not specified, they will be treated as search conditions.</p></li><li><p>The results column of the outer join of table t1 is not returned if table t1 is joined with table t2 by specifying an outer join operator in the column of t1, then table t1 is joined with table t3 by using search conditions.</p></li><li><p>It is not possible to specify columns in the same table as the left/right column specification of a join condition.</p></li><li><p>It is not possible to specify an expression other than a column specification for outer join operators, but they may be specified for the columns that compose the expression.</p><p>There are the following limitations on the functionality of outer join operators when compared with joined tables (OUTER JOIN). To use functionality that is not available with outer join operators, use joined tables (OUTER JOIN).</p><table><caption>Table&nbsp;9.2 Range of functionality with outer join operators</caption><col><col><tr><th valign="top"><p>Functionality available with joined tables (OUTER JOIN)</p></th><th valign="top"><p>Outer join operator</p></th></tr><tr><td align="left" valign="top"><p>Outer joins of two tables</p></td><td align="center" valign="top"><p>Y</p></td></tr><tr><td align="left" valign="top"><p>Outer joins of three or more tables</p></td><td align="center" valign="top"><p>Y <span class="inline-note">*1</span></p></td></tr><tr><td align="left" valign="top"><p>Used together with joined tables within the same query</p></td><td align="center" valign="top"><p>N</p></td></tr><tr><td align="left" valign="top"><p>Use of the OR logical operator to a join condition</p></td><td align="center" valign="top"><p>N</p></td></tr><tr><td align="left" valign="top"><p>Use of an IN predicate to a join condition</p></td><td align="center" valign="top"><p>N</p></td></tr><tr><td align="left" valign="top"><p>Use of subqueries to a join condition</p></td><td align="center" valign="top"><p>N</p></td></tr></table><p>Y: Available<br>N: Not available</p><p>*1: The outer joins by outer join operators can return outer join results only for one other table. For this reason, to combine outer joins of table t1 and table t2 or table t2 and table t3, it is not possible to specify outer join operators simultaneously for table t2.</p></li></ul></li></ul></dd></dl><div class="ex"><p class="title">Example</p><div class="exbody"><p>Table configuration</p><p>t1</p><table><col><col><col><tr><td align="left" valign="top"><p>col1</p></td><td align="left" valign="top"><p>col2</p></td><td align="left" valign="top"><p>col3</p></td></tr><tr><td align="left" valign="top"><p>1001</p></td><td align="left" valign="top"><p>AAAAA</p></td><td align="left" valign="top"><p>1000</p></td></tr><tr><td align="left" valign="top"><p>1002</p></td><td align="left" valign="top"><p>BBBBB</p></td><td align="left" valign="top"><p>2000</p></td></tr><tr><td align="left" valign="top"><p>1003</p></td><td align="left" valign="top"><p>CCCCC</p></td><td align="left" valign="top"><p>3000</p></td></tr></table><p>t2</p><table><col><col><tr><td align="left" valign="top"><p>col1</p></td><td align="left" valign="top"><p>col2</p></td></tr><tr><td align="left" valign="top"><p>1001</p></td><td align="left" valign="top"><p>aaaaa</p></td></tr><tr><td align="left" valign="top"><p>1002</p></td><td align="left" valign="top"><p>bbbbb</p></td></tr><tr><td align="left" valign="top"><p>1004</p></td><td align="left" valign="top"><p>ddddd</p></td></tr></table><br><p>Example 1: Return all rows in table t2, including those that do not exist in table t1.</p><pre class="border">SELECT *   FROM t1, t2  WHERE t1.col1(+) = t2.col1; col1 |    col2    | col3 | col1 |    col2------+------------+------+------+------------ 1001 | AAAAA      | 1000 | 1001 | aaaaa 1002 | BBBBB      | 2000 | 1002 | bbbbb      |            |      | 1004 | ddddd(3 rows)</pre><p>This is the same syntax as the joined table (OUTER JOIN) of the FROM clause shown next.</p><pre class="border">SELECT *   FROM t1 RIGHT OUTER JOIN t2       ON t1.col1 = t2.col1;</pre><br><p>Example 2: In the following example, the results are filtered to records above 2000 in t1.col3 by search conditions, and the records are those in table t2 that include ones that do not exist in table t1. After filtering with the join conditions, there is further filtering with the search conditions, so there will only be one record returned.</p><pre class="border">SELECT *   FROM t1, t2  WHERE t1.col1(+) = t2.col1    AND t1.col3 &gt;= 2000; col1 |    col2    | col3 | col1 |    col2------+------------+------+------+------------ 1002 | BBBBB      | 2000 | 1002 | bbbbb(1 row)</pre><p>This is the same syntax as the joined table (OUTER JOIN) of the FROM clause shown next.</p><pre class="border">SELECT *   FROM t1 RIGHT OUTER JOIN t2       ON t1.col1 = t2.col1  WHERE t1.col3 &gt;= 2000;</pre></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="j2681-00-09-03-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-09-03-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>