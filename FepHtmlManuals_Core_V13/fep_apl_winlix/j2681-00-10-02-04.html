<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>10.2.4 Using a Connection Service File</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-00-10-00-00.html">Chapter&nbsp;10 Application Connection Switch Feature</a> &gt; <a href="j2681-00-10-02-00.html">10.2 Using the Application Connection Switch Feature</a> &gt; 10.2.4 Using a Connection Service File</div><div class="back_next"><a href="j2681-00-10-02-03.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-10-02-05.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_100204">10.2.4 Using a Connection Service File</h3><div class="body"><div class="textblock"><p>Set the connection parameters as follows.</p><table><caption>Table&nbsp;10.4 Information to be set</caption><col><col><tr><th valign="top"><p><span class="em">Parameter</span></p></th><th valign="top"><p><span class="em">Explanation</span></p></th></tr><tr><td align="left" valign="top"><p>host</p></td><td align="left" valign="top"><p>Specify the host names, using a comma as the delimiter.</p></td></tr><tr><td align="left" valign="top"><p>hostaddr</p></td><td align="left" valign="top"><p>Specify IP address 1 and IP address 2, using a comma as the delimiter.</p></td></tr><tr><td align="left" valign="top"><p>port</p></td><td align="left" valign="top"><p>Specify the connection destination port numbers, using a comma as the delimiter.<br>Specify the port number for the server specified for the nth host or hostaddr as the nth port.</p><p>The port number can be omitted. If omitted, the default is 27500.</p><p>If <span class="i">n</span> server names are specified, and m ports are specified then there will be error reported. The only exceptions are where m=n or m=1. In case only one port is specified, then the same is applied for all the hosts.</p></td></tr><tr><td align="left" valign="top"><p>target_session_attrs</p></td><td align="left" valign="top"><p>Specify the selection sequence of the servers to which the application will connect.<br>Refer to "<a href="j2681-00-10-01-00.html#mID_1001_targetserver"><span class="u">Target server</span></a>" for details.</p></td></tr><tr><td align="left" valign="top"><p>sslmode</p></td><td align="left" valign="top"><p>Specify this to encrypt communications. By default, this is disabled.<br>The setting values for sslmode are as follows:</p><p>disable: Connect without SSL</p><p>allow: Connect without SSL, and if it fails, connect with SSL</p><p>prefer: Connect with SSL, and if it fails, connect without SSL</p><p>require: Connect always with SSL</p><p>verify-ca: Connect with SSL, using a certificate issued by a trusted CA <span class="inline-note">*1</span></p><p>verify-full: Connect with SSL, using a certificate issued by a trusted CA to verify if the server host name matches the certificate <span class="inline-note">*1</span></p></td></tr><tr><td align="left" valign="top"><p>sslservercertcn</p></td><td align="left" valign="top"><p>This parameter is enabled only to perform SSL authentication (sslmode=verify-full).</p><p>Specify the server certificate CN. If this is omitted, the value will be null, and the server certificate CN will be authenticated using the host name specified in host.</p></td></tr></table><p class="supple">*1: If specifying either "verify-ca" or "verify-full", use the system environment variable PGSSLROOTCERT (connection parameter sslrootcert) of your operating system to specify the CA certificate file as shown below.</p><p class="supple">Example)<br>Variable name: PGSSLROOTCERT<br>Variable value: <span class="i">cACertificateFile</span></p><br><div class="note"><p class="title">Note</p><div class="notebody"><p>If using the connection parameter connect_timeout, this value is applied for connections to each of the specified hosts. If both multiplexed database servers have failed, the connection will time out when a time equal to double the connect_timeout value elapses.</p></div></div><div class="point"><p class="title">Point</p><div class="pointbody"><p>If using the C Library, embedded SQL or psql commands (including other client commands that specify connection destinations), it is recommended to use a connection service file to specify connection destinations.</p><p>In the connection service file, a name (service name) is defined as a set, comprising information such as connection destination information and various types of tuning information set for connections. By using the service name defined in the connection service file when connecting to databases, it is no longer necessary to modify applications when the connection information changes.</p></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="j2681-00-10-02-03.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-10-02-05.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>