<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>9.4.1 DECODE</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-00-09-00-00.html">Chapter&nbsp;9 Compatibility with Oracle Databases</a> &gt; <a href="j2681-00-09-04-00.html">9.4 SQL Function Reference</a> &gt; 9.4.1 DECODE</div><div class="back_next"><a href="j2681-00-09-04-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-09-04-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_070401">9.4.1 DECODE<a name="N47G"></a></h3><div class="body"><div class="textblock"><dl><dt class="em">Description</dt><dd><p>Compares values and if they match, returns a corresponding value.</p></dd></dl><dl><dt class="em">Syntax</dt><dd><pre>DECODE(<span class="i">expr</span>, <span class="i">srch</span>, <span class="i">result</span> [, <span class="i">srch</span>, <span class="i">result</span> ]... [, <span class="i">default</span> ])</pre></dd></dl><dl><dt class="em">General rules</dt><dd></dd></dl><ul><li><p>DECODE compares values of the value expression to be converted and the search values one by one. If the values match, a corresponding result value is returned. If no values match, the default value is returned if it has been specified. A NULL value is returned if a default value has not been specified.</p></li><li><p>If the same search value is specified more than once, then the result value returned is the one listed for the first occurrence of the search value.</p></li><li><p>The following data types can be used in result values and in the default value:</p><ul><li><p>CHAR</p></li><li><p>VARCHAR</p></li><li><p>NCHAR</p></li><li><p>NCHAR VARYING</p></li><li><p>TEXT</p></li><li><p>INTEGER</p></li><li><p>BIGINT</p></li><li><p>NUMERIC</p></li><li><p>DATE</p></li><li><p>TIME WITHOUT TIME ZONE</p></li><li><p>TIMESTAMP WITHOUT TIME ZONE</p></li><li><p>TIMESTAMP WITH TIME ZONE</p></li></ul></li><li><p>The same data type must be specified for the values to be converted and the search values. However, note that different data types may also be specified if a literal is specified in the search value, and the value expression to be converted contains data types that can be converted. When specifying literals, refer to "<a href="j2681-a-03-00.html#mID_0a010301_table1">Table&nbsp;A.1 Data type combinations that contain literals and can be converted implicitly</a>" in "<a href="j2681-a-03-00.html">A.3 Implicit Data Type Conversions</a>" for information on the data types that can be specified.</p></li><li><p>If the result values and default value are all literals, the data types for these values will be as shown below:</p><ul><li><p>If all values are string literals, all will become character types.</p></li><li><p>If there is one or more numeric literal, all will become numeric types.</p></li><li><p>If there is one or more literal cast to the datetime/time types, all will become datetime/time types.</p></li></ul></li><li><p>If the result values and default value contain a mixture of literals and non-literals, the literals will be converted to the data types of the non-literals. When specifying literals, refer to "<a href="j2681-a-03-00.html#mID_0a010301_table1">Table&nbsp;A.1 Data type combinations that contain literals and can be converted implicitly</a>" in "<a href="j2681-a-03-00.html">A.3 Implicit Data Type Conversions</a>" for information on the data types that can be converted.</p></li><li><p>The same data type must be specified for all result values and for the default value. However, different data types can be specified if the data type of any of the result values or default value can be converted - these data types are listed below:</p><table><caption>Table&nbsp;9.3 Data type combinations that can be converted by DECODE (summary)</caption><col><col><col><col><col><tr><th rowspan="2" colspan="2" valign="top"></th><th colspan="3" valign="top"><p><span class="em">Other result values or default value</span></p></th></tr><tr><th height="5" valign="top"><p><span class="em">Numeric type</span></p></th><th height="5" valign="top"><p><span class="em">Character type</span></p></th><th height="5" valign="top"><p><span class="em">Date/time type</span></p></th></tr><tr><td rowspan="3" align="left" valign="top"><p>Result value (any)</p></td><td align="left" valign="top"><p>Numeric type</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>N</p></td><td align="center" valign="top"><p>N</p></td></tr><tr><td align="left" valign="top"><p>Character type</p></td><td align="center" valign="top"><p>N</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>N</p></td></tr><tr><td height="5" align="left" valign="top"><p>Date/time type</p></td><td height="5" align="center" valign="top"><p>N</p></td><td height="5" align="center" valign="top"><p>N</p></td><td height="5" align="center" valign="top"><p>S <span class="inline-note">*1</span></p></td></tr></table><p>Y: Can be converted<br>S: Some data types can be converted<br>N: Cannot be converted</p><p>*1: The data types that can be converted for date/time types are listed below:</p><table><caption>Table&nbsp;9.4 Result value and default value date/time data types that can be converted by DECODE</caption><col><col><col><col><col><col><tr><th rowspan="2" colspan="2" valign="top"></th><th colspan="4" valign="top"><p><span class="em">Other result values or default value</span></p></th></tr><tr><th height="6" valign="middle"><p><span class="em">DATE</span></p></th><th height="6" valign="middle"><p><span class="em">TIME</span><span class="em"> WITHOUT TIME ZONE</span></p></th><th height="6" valign="middle"><p><span class="em">TIMESTAMP</span><span class="em"> WITHOUT TIME ZONE</span></p></th><th height="6" valign="middle"><p><span class="em">TIMESTAMP WITH TIME </span><span class="em">Z</span><span class="em">ONE</span></p></th></tr><tr><td rowspan="4" align="left" valign="top"><p>Result value (any)</p></td><td align="left" valign="top"><p>DATE</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>N</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>Y</p></td></tr><tr><td align="left" valign="top"><p>TIME WITHOUT TIME ZONE</p></td><td align="center" valign="top"><p>N</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>N</p></td><td align="center" valign="top"><p>N</p></td></tr><tr><td align="left" valign="top"><p>TIMESTAMP WITHOUT TIME ZONE</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>N</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>Y</p></td></tr><tr><td height="5" align="left" valign="top"><p>TIMESTAMP WITH TIME ZONE</p></td><td height="5" align="center" valign="top"><p>Y</p></td><td height="5" align="center" valign="top"><p>N</p></td><td height="5" align="center" valign="top"><p>Y</p></td><td height="5" align="center" valign="top"><p>Y</p></td></tr></table><p>Y: Can be converted<br>N: Cannot be converted</p></li><li><p>The data type of the return value will be the data type within the result or default value that is longest and has the highest precision.</p></li></ul><div class="ex"><p class="title">Example</p><div class="exbody"><p>In the following example, the value of col3 in table t1 is compared and converted to a different value. If the col3 value matches search value 1, the result value returned is "one". If the col3 value does not match any of search values 1, 2, or 3, the default value "other number" is returned.</p><pre class="border">SELECT col1, DECODE(col3, 1000, 'one',                               2000, 'two',                               3000, 'three',                               'other number') "num-word"       FROM t1;col1  | num-word------+---------- 1001 | one 1002 | two 1003 | three(3 rows)</pre></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="j2681-00-09-04-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-09-04-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>