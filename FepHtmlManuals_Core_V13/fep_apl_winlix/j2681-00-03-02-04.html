<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>3.2.4 Message Language and Encoding System Used by Applications Settings</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-00-03-00-00.html">Chapter&nbsp;3 ODBC Driver</a> &gt; <a href="j2681-00-03-02-00.html">3.2 Setup</a> &gt; 3.2.4 Message Language and Encoding System Used by Applications Settings</div><div class="back_next"><a href="j2681-00-03-02-03.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-03-03-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_030204">3.2.4 Message Language and Encoding System Used by Applications Settings</h3><div class="body"><div class="textblock"><p>This section explains the language settings for the application runtime environment and the encoding<span class="em"> </span>settings for the application.</p><p></p></div><p class="subhead_1" id="IDapl03N3"><span class="em">Language settings</span><a name="N10G"></a><span class="em"></span></p><div class="textblock"><p>You must match the language settings for the application runtime environment with the message locale settings of the database server.</p><p>Messages output by an application may include text from messages sent from the database server. In the resulting text, the text of the application message will use the message locale of the application, and the text of the message sent by the database server will use the message locale of the database server. If the message locales do not match, more than one language or encoding system will be used. Moreover, if the encoding systems do not match, characters in the resulting text can be garbled.</p><ul><li><div id="lix" class="spcl"><div class="spcl_body"><p><span class="icon"><img src="image/spcl-lix.gif" width="25" height="18" alt="Linux" title="Linux"></span>Linux</p></div></div><div id="lix" class="spcl"><div class="spcl_body"><p>Set the locale for messages (LC_MESSAGES category) to match the message locale of the database server. This can be done in a few different ways, such as using environment variables. Refer to the relevant manual of the operating system for information on the setlocale function.</p></div></div><div id="lix" class="spcl_list2"><div class="spcl_body"><div class="ex"><p class="title">Example</p><div class="exbody"><div id="lix" class="spcl_note_list2"><div class="spcl_body"><p>Example of specifying "en_US.UTF-8" with the setlocale function</p></div></div><div id="lix" class="spcl_note_pre2"><div class="spcl_body"><pre class="border">setlocale(LC_ALL,"en_US.UTF-8");</pre></div></div><div id="lix" class="spcl_note_list2"><div class="spcl_body"><p>Specifying the locale of the LC_ALL category propagates the setting to LC_MESSAGE.</p></div></div></div></div></div></div></li></ul><ul><li><div id="win" class="spcl"><div class="spcl_body"><p><span class="icon"><img src="image/spcl-win.gif" width="25" height="18" alt="Windows" title="Windows"></span>Windows(R)</p></div></div><div id="win" class="spcl"><div class="spcl_body"><p>Align the locale of the operating system with the message locale of the database server.</p></div></div></li></ul></div><p class="subhead_1" id="IDapl03N4"><span class="em">Encoding System Setting</span><span class="em">s</span><a name="N11G"></a></p><div class="textblock"><p>Ensure that the encoding system that is embedded in the application and passed to the database, and the encoding system setting of the runtime environment, are the same. The encoding system cannot be converted correctly on the database server.</p><p>Use one of the following methods to set the encoding system for the application:</p><ul><li><p>Set the PGCLIENTENCODING environment variable in the runtime environment.</p></li><li><p>Set the client_encoding keyword in the connection string.</p></li><li><p>Use the PQsetClientEncoding function.</p></li></ul><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "Supported Character Sets" in "Server Administration" in the PostgreSQL Documentation for information on the strings that represent the encoding system that can be set.</p></div></div><p>For example, when using "Unicode" and "8 bit", set the string "UTF8".</p><div class="ex"><p class="title">Example</p><div class="exbody"><p><span class="em">Setting the "PGCLIENTENCODING" environment variable</span></p><div id="lix" class="spcl_note"><div class="spcl_body"><p><span class="icon"><img src="image/spcl-lix.gif" width="25" height="18" alt="Linux" title="Linux"></span>An example of setting when the encoding of the client is "UTF8" (Bash)</p></div></div><div id="lix" class="spcl_note"><div class="spcl_body"><pre class="border">&gt; PGCLIENTENCODING=UTF8; export PGCLIENTENCODING</pre></div></div><div id="win" class="spcl_note"><div class="spcl_body"><p><span class="icon"><img src="image/spcl-win.gif" width="25" height="18" alt="Windows" title="Windows"></span>An example of setting when the encoding of the client is "UTF8"</p></div></div><div id="win" class="spcl_note"><div class="spcl_body"><pre class="border">&gt; set PGCLIENTENCODING=UTF8</pre></div></div></div></div><div class="note"><p class="title">Note</p><div class="notebody"><p>Text may be garbled when outputting results to the command prompt. Review the font settings for the command prompt if this occurs.</p></div></div><br></div></div><div class="header_footer"><div class="back_next"><a href="j2681-00-03-02-03.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-03-03-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>