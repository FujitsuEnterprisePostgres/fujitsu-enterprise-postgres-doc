<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>7.4.1 Support for National Character Data Types</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-00-07-00-00.html">Chapter&nbsp;7 Embedded SQL in COBOL</a> &gt; <a href="j2681-00-07-04-00.html">7.4 Application Development</a> &gt; 7.4.1 Support for National Character Data Types</div><div class="back_next"><a href="j2681-00-07-04-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-07-04-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="IDapl06-for-cobolN5">7.4.1 Support for National Character Data Types</h3><div class="body"><div class="textblock"><p>This section describes how to use the national character data types using the SQL embedded COBOL preprocessor.</p><p>The table below lists the COBOL variable types supporting the national character data types. The number of characters specified for the national character data type must be specified for the length of the host variable.</p><table><col><col><tr><th valign="top"><p>National character data type</p></th><th valign="top"><p>COBOL variable type</p></th></tr><tr><td align="left" valign="top"><p>CHARACTER(<span class="i">n</span>)</p><p>NATIONAL CHARACTER(<span class="i">n</span>)</p></td><td align="left" valign="top"><p><span class="i">varName</span> PIC N(<span class="i">n</span>) </p></td></tr><tr><td align="left" valign="top"><p>CHARACTER VARYING(<span class="i">n</span>)</p><p>NATIONAL CHARACTER VARYING(<span class="i">n</span>)</p></td><td align="left" valign="top"><p><span class="i">varName</span> PIC N(<span class="i">n</span>) VARYING </p></td></tr></table><p>To use COBOL variable types that support national character data types, it is necessary to specify the ECOBPG_NCHAR environment variable.</p><p>ECOBPG_NCHAR={ UTF16LE | UTF16BE | UTF32LE | UTF32BE | SJIS }</p><p>In SQL embedded COBOL, specify the encoding of the COBOL variable types that support national character data types.</p><ul><li><p>UTF16LE: UTF-16 little-endian</p></li><li><p>UTF16BE: UTF-16 big-endian</p></li><li><p>UTF32LE: UTF-32 little-endian</p></li><li><p>UTF32BE: UTF-32 big-endian</p></li><li><p>SJIS: Shift JIS</p></li></ul><p>If this environment variable is omitted, the encoding will be determined according to the encoding system of the client.</p><ul><li><p>If UTF8 is used: UTF16 (endians will be encoded in accordance with endians of the client system)</p></li><li><p>If SJIS is used: SJIS</p></li></ul><br><p>If encoding is specified for the translation option when compiling with NetCOBOL, the encoding specified for the national character data types should be used for the environment variable ECOBPG_NCHAR.</p><p>The list below shows NetCOBOL translation options and their corresponding environment variable ECOBPG_NCHAR values.</p><table><col><col><tr><th valign="middle"><p>NetCOBOL translation options</p></th><th valign="middle"><p>Environment variable ECOBPG_NCHAR</p></th></tr><tr><td height="40" align="left" valign="middle"><p>ENCODE (UTF-8,UTF16,LE)</p><p>RCS (UTF-16,LE)</p></td><td height="40" align="left" valign="middle"><p>UTF-16LE</p></td></tr><tr><td height="40" align="left" valign="middle"><p>ENCODE (UTF-8,UTF-16,BE)</p><p>RCS (UTF-16,BE)</p></td><td height="40" align="left" valign="middle"><p>UTF-16BE</p></td></tr><tr><td height="16" align="left" valign="middle"><p>ENCODE (UTF-8,UTF-32,LE)</p></td><td height="16" align="left" valign="middle"><p>UTF-32LE</p></td></tr><tr><td height="15" align="left" valign="middle"><p>ENCODE (UTF-8,UTF-32,BE)</p></td><td height="15" align="left" valign="middle"><p>UTF-32BE</p></td></tr><tr><td height="5" align="left" valign="middle"><p>ENCODE (SJIS,SJIS)</p></td><td height="5" align="left" valign="middle"><p>SJIS</p></td></tr><tr><td height="5" align="left" valign="top"><p>Not specified</p></td><td height="5" align="left" valign="top"><p>No need to specify</p></td></tr></table><p>Also, if the post-compiling encoding for an application differs from the locale of the execution environment, then the client encoding must be used for the application.</p><p>The list below shows the values supported for the combinations of application encoding, locale of the execution environment, and client encodings.</p><table><col><col><col><tr><th valign="top"><p>Application encoding</p></th><th valign="top"><p>Locale used when executing an application </p></th><th valign="top"><p>Client encoding</p></th></tr><tr><td rowspan="2" height="5" align="left" valign="middle"><p>UTF-8</p></td><td height="5" align="left" valign="middle"><p>UTF-8</p></td><td height="5" align="left" valign="middle"><p>UTF-8</p></td></tr><tr><td height="5" align="left" valign="middle"><p>SJIS</p></td><td height="5" align="left" valign="middle"><p>UTF-8</p></td></tr><tr><td rowspan="2" height="5" align="left" valign="middle"><p>SJIS</p></td><td height="5" align="left" valign="middle"><p>UTF-8</p></td><td height="5" align="left" valign="middle"><p>SJIS</p></td></tr><tr><td height="5" align="left" valign="middle"><p>SJIS</p></td><td height="5" align="left" valign="middle"><p>SJIS</p></td></tr></table><dl><dd></dd></dl><p>Refer to "<a href="j2681-00-07-02-02.html">7.2.2 Message Language and Encoding System Used by Applications</a>" for information on how to set client encoding systems.</p><p>The following example shows host variable declaration of a national character data type.</p><pre class="border">01 DATA1 PIC N(10).01 DATA2 PIC N(10) VARYING.</pre><div class="note"><p class="title">Note</p><div class="notebody"><ul><li><p>Halfwidth characters should not be used for the national character data type COBOL variable.</p></li><li><p>The national character data type column attribute obtained by applications should be the CHAR type.</p></li><li><p>Encoding cannot be specified using the ENCODING clause, which is a feature of NetCOBOL.</p></li></ul></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="j2681-00-07-04-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-07-04-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>