<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>B.4.2 Operating on Datetime/Numeric, Including Adding Number of Days to a Particular Day</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-b-00-00.html">Appendix&nbsp;B Conversion Procedures Required due to Differences from Oracle Database</a> &gt; <a href="j2681-b-04-00.html">B.4 NVL (Replace NULL)</a> &gt; B.4.2 Operating on Datetime/Numeric, Including Adding Number of Days to a Particular Day</div><div class="back_next"><a href="j2681-b-04-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-b-04-03.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="IDapl0dN29">B.4.2 Operating on Datetime/Numeric, Including Adding Number of Days to a Particular Day</h3><div class="body"><div class="textblock"><p></p></div><p class="subhead_1" id="IDapl0dN30"><span class="em">Oracle database</span></p><div class="textblock"><pre class="border">SELECT NVL( <span class="em">col1</span> + 10, CURRENT_DATE)  FROM t1;</pre><p>* col1 is assumed to be TIMESTAMP WITHOUT TIME ZONE type or TIMESTAMP WITH TIME ZONE type</p></div><p class="subhead_1" id="IDapl0dN31"><span class="em">FUJITSU Enterprise Postgres</span></p><div class="textblock"><pre class="border">SELECT NVL( <span class="em">CAST(col1 AS DATE)</span> + 10, CURRENT_DATE)  FROM t1;</pre><p>* col1 is assumed to be TIMESTAMP WITHOUT TIME ZONE type or TIMESTAMP WITH TIME ZONE type</p><br><dl><dt class="em">Feature differences</dt><dd><dl><dt class="em">Oracle database</dt><dd><p>Numbers can be operated (added to or subtracted from) with either TIMESTAMP WITHOUT TIME ZONE type or TIMESTAMP WITH TIME ZONE type. Operation result will be DATE type.</p></dd></dl><dl><dt class="em">FUJITSU Enterprise Postgres</dt><dd><p>Numbers cannot be operated (added to or subtracted from) with neither TIMESTAMP WITHOUT TIME ZONE type nor TIMESTAMP WITH TIME ZONE type. However, numbers can be operated (added to or subtracted from) with DATE type.</p></dd></dl></dd></dl><dl><dt class="em">Conversion procedure</dt><dd><p>Convert using the following procedure:</p><ol><li><p>Search locations where the keyword "+" or "-" is used in addition or subtraction, and check if these operations are between numbers and TIMESTAMP WITHOUT TIME ZONE type or TIMESTAMP WITH TIME ZONE type.</p></li><li><p>If they are, use CAST to explicitly convert TIMESTAMP WITHOUT TIME ZONE type or TIMESTAMP WITH TIME ZONE type to DATE type.</p></li></ol></dd></dl></div></div><div class="header_footer"><div class="back_next"><a href="j2681-b-04-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-b-04-03.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>