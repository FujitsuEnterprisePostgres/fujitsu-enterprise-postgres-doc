<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>2.2.3 Settings for Encrypting Communication Data</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-00-02-00-00.html">Chapter&nbsp;2 JDBC Driver</a> &gt; <a href="j2681-00-02-02-00.html">2.2 Setup</a> &gt; 2.2.3 Settings for Encrypting Communication Data</div><div class="back_next"><a href="j2681-00-02-02-03.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-02-03-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="IDapl02N5">2.2.3 Settings for Encrypting Communication Data</h3><div class="body"><div class="textblock"><p>When using the communication data encryption feature to connect to the database server, set as follows:</p><dl><dt class="em">Settings for encrypting communication data for connection to the server<a name="N7G"></a></dt><dd><p>This section describes how to create applications for encrypting communication data.</p><p>Set the property of the SSL parameter to "true" to encrypt. The default for the SSL parameter is "false".</p><p>If ssl is set to "true", sslmode is internally treated as "verify-full".</p><div class="ex"><p class="title">Example</p><div class="exbody"><ul><li><p>Setting example 1</p><pre class="border">String url = "jdbc:postgresql://sv1/test";Properties props = new Properties();props.setProperty("user","fsepuser");props.setProperty("password","secret");<span class="red"><span class="em">props.setProperty("ssl","true");</span></span><span class="red"><span class="em"><br></span></span>props.setProperty("sslfactory","org.postgresql.ssl.DefaultJavaSSLFactory");Connection conn = DriverManager.getConnection(url, props);</pre></li><li><p>Setting example 2</p><pre class="border">String url = "jdbc:postgresql://sv1/test?user=fsepuser&amp;password=secret&amp;<span class="red"><span class="em">ssl=true</span></span>&amp;sslfactory=org.postgresql.ssl.DefaultJavaSSLFactory";Connection conn = DriverManager.getConnection(url);</pre></li></ul></div></div></dd></dl><p>To prevent spoofing of the database server, you need to use the keytool command included with Java to import the CA certificate to the Java keystore. In addition, specify "org.postgresql.ssl.DefaultJavaSSLFactory" for the sslfactory parameter. </p><p>Refer to JDK documentation and the Oracle website for details.</p><div class="note"><p class="title">Note</p><div class="notebody"><p>There is no need to set the ssl parameter if the connection string of the DriverManager class is specified, or if the sslmode parameter is specified in the data source, such as when the application connection switch feature is used. If the ssl parameter is set, the value in the sslmode parameter will be enabled.</p></div></div><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "Secure TCP/IP Connections with SSL" in "Server Administration" in the PostgreSQL Documentation for information on encrypting communication data.</p></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="j2681-00-02-02-03.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-02-03-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>