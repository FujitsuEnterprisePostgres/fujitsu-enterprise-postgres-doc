<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>1.5.2 Referencing System Catalogs</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-00-01-00-00.html">Chapter&nbsp;1 Overview of the Application Development Function</a> &gt; <a href="j2681-00-01-05-00.html">1.5 Notes on Application Compatibility</a> &gt; 1.5.2 Referencing System Catalogs</div><div class="back_next"><a href="j2681-00-01-05-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-01-05-03.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="IDapl01N4">1.5.2 Referencing System Catalogs</h3><div class="body"><div class="textblock"><p>System catalogs can be used to obtain information about the FUJITSU Enterprise Postgres system and database objects.</p><p>However, system catalogs may change when the FUJITSU Enterprise Postgres version is upgraded. Also, there are many system catalogs that return information that is inherent to FUJITSU Enterprise Postgres.</p><p>Accordingly, reference the information schema defined in standard SQL (information_schema) wherever possible. Note also that queries specifying "*" in the selection list must be avoided to prevent columns being added.</p><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "The Information Schema" under "Client Interfaces" in the PostgreSQL Documentation for details.</p></div></div><p>The system catalog must be referenced to obtain information not found in the information schema. Instead of directly referencing the system catalog in the application, define a view for that purpose. Note, however, that when defining the view, the column name must be clearly specified after the view name.</p><p>An example of defining and using a view is shown below.</p><div class="ex"><p class="title">Example</p><div class="exbody"><pre class="border">CREATE VIEW my_tablespace_view(spcname) AS SELECT spcname FROM pg_tablespace;SELECT * FROM my_tablespace_view V1, pg_tables T1 WHERE V1.spcname = T1.tablespace;</pre></div></div><p>If changes are made to a system catalog, the user will be able to take action by simply making changes to the view, without the need to make changes to the application.</p><p>The following shows an example of taking action by redefining a view as if no changes were made.</p><p>The pg_tablespace system catalog is redefined in response to the column name being changed from spcname to spacename.</p><div class="ex"><p class="title">Example</p><div class="exbody"><pre class="border">DROP VIEW my_tablespace_view;CREATE VIEW my_tablespace_view(spcname) AS SELECT spacename FROM pg_tablespace;</pre></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="j2681-00-01-05-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-00-01-05-03.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>