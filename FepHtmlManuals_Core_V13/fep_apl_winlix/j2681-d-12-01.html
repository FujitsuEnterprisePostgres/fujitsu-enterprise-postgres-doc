<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>D.12.1 ecobpg</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Application Development Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2681-d-00-00.html">Appendix&nbsp;D ECOBPG - Embedded SQL in COBOL</a> &gt; <a href="j2681-d-12-00.html">D.12 PostgreSQL Client Applications</a> &gt; D.12.1 ecobpg</div><div class="back_next"><a href="j2681-d-12-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-e-00-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_0e12_ecobpg">D.12.1 ecobpg</h3><div class="body"><div class="textblock"><p></p></div><p class="subhead_1" id="IDapl0eN107"><span class="em">Name</span></p><div class="textblock"><p>ecobpg -- embedded SQL COBOL preprocessor</p></div><p class="subhead_1" id="IDapl0eN108"><span class="em">Synopsis</span></p><div class="textblock"><p>ecobpg [<span class="i">option</span>...] <span class="i">file</span>...</p></div><p class="subhead_1" id="IDapl0eN109"><span class="em">Description</span></p><div class="textblock"><p>ecobpg is the embedded SQL preprocessor for COBOL programs. It converts COBOL programs with embedded SQL statements to normal COBOL code by replacing the SQL invocations with special function calls. The output files can then be processed with any COBOL compiler tool chain.</p><p>ecobpg will convert each input file given on the command line to the corresponding COBOL output file. Input files preferably have the extension .pco, in which case the extension will be replaced by .cob to determine the output file name. If the extension of the input file is not .pco, then the output file name is computed by appending .cob to the full file name. The output file name can also be overridden using the -o option.</p></div><p class="subhead_1" id="IDapl0eN110"><span class="em">Options</span></p><div class="textblock"><p>ecobpg accepts the following command-line arguments:</p><dl><dt class="em">-c</dt><dd><p>Automatically generate certain COBOL code from SQL code. Currently, this works for EXEC SQL TYPE.</p></dd></dl><dl><dt class="em">-I directory</dt><dd><p>Specify an additional include path, used to find files included via EXEC SQL INCLUDE. Defaults are: (current directory), /usr/local/include, the PostgreSQL include directory which is defined at compile time (default: /usr/local/pgsql/include), and /usr/include, in that order.</p></dd></dl><dl><dt class="em">-o filename</dt><dd><p>Specifies that ecobpg should write all its output to the given filename.</p></dd></dl><dl><dt class="em">-f format</dt><dd><p>Specifies the COBOL code notation. For "format", specify either of the following. If omitted, "fixed" is used.</p><dl><dt class="em">fixed</dt><dd><p>Specifies fixed format notation. Up to 72 columns can be specified for area B. Characters in column 73 and beyond are deleted in the precompiled source.</p></dd></dl><dl><dt class="em">variable</dt><dd><p>Specifies variable format notation. Up to 251 columns can be specified for area B. Characters in column 252 and beyond are deleted in the precompiled source.</p></dd></dl></dd></dl><dl><dt class="em">-r option</dt><dd><p>Selects run-time behavior. Option can be one of the following:</p><dl><dt class="em">prepare</dt><dd><p>Prepare all statements before using them. Libecpg will keep a cache of prepared statements and reuse a statement if it gets executed again. If the cache runs full, libecpg will free the least used statement.</p></dd></dl><dl><dt class="em">questionmarks</dt><dd><p>Allow question mark as placeholder for compatibility reasons. This used to be the default long ago.</p></dd></dl></dd></dl><dl><dt class="em">-t</dt><dd><p>Turn on autocommit of transactions. In this mode, each SQL command is automatically committed unless it is inside an explicit transaction block. In the default mode, commands are committed only when EXEC SQL COMMIT is issued.</p></dd></dl><dl><dt class="em">--varchar-with-named-member</dt><dd><p>When converting VARCHAR host variable, adding name of the variable to members as prefix. Instead of LEN and ARR, (varname)-ARR and (varname)-LEN will be used.</p></dd></dl><dl><dt class="em">--bytea-with-named-member</dt><dd><p>When converting bytea host variable, adding name of the variable to members as prefix. Instead of LEN and ARR, (varname)-ARR and (varname)-LEN will be used.</p></dd></dl><dl><dt class="em">-E encode</dt><dd><p>Specify the COBOL source encoding: "UTF8", "SJIS", or "EUC_JP".</p><p>If this option is omitted, the encoding is processed based on the locale.</p></dd></dl><dl><dt class="em">-v</dt><dd><p>Print additional information including the version and the "include" path.</p></dd></dl><dl><dt class="em">--version</dt><dd><p>Print the ecobpg version and exit.</p></dd></dl><dl><dt class="em">-?<br>--help</dt><dd><p>Show help about ecobpg command line arguments, and exit.</p></dd></dl></div><p class="subhead_1" id="IDapl0eN111"><span class="em">Notes</span></p><div class="textblock"><p>When compiling the preprocessed COBOL code files, the compiler needs to be able to find the library files in the PostgreSQL include directory.</p><p>Programs using COBOL code with embedded SQL have to be linked against the libecpg library, for example using the linker options.</p><p>The value of either of these directories that is appropriate for the installation can be found out using pg_config.</p><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "pg_config" in "Reference" in the PostgreSQL Documentation.</p></div></div></div><p class="subhead_1" id="IDapl0eN112"><span class="em">Examples</span></p><div class="textblock"><p>If you have an embedded SQL COBOL source file named prog1.pco, you can create an executable program using the following command:</p><pre class="border">ecobpg prog1.pco</pre></div></div><div class="header_footer"><div class="back_next"><a href="j2681-d-12-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2681-e-00-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>