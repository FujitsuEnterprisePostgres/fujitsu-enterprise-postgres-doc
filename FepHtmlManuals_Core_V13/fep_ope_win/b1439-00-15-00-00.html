<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>Chapter&nbsp;15 Actions when an Error Occurs</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Operation Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist">Chapter&nbsp;15 Actions when an Error Occurs</div><div class="back_next"><a href="b1439-00-14-04-02.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-00-15-01-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h1 id="br070000">Chapter&nbsp;15 Actions when an Error Occurs</h1><div class="body"><div class="textblock"><p>This chapter describes the actions to take when an error occurs in the database or an application, while FUJITSU Enterprise Postgres is operating.</p><p>Depending on the type of error, it may be necessary to recover the database cluster. The recovery process recovers the following resources:</p><ul><li><p>Data storage destination</p></li><li><p>Transaction log storage destination (if the transaction log is stored in a separate disk from the data storage destination)</p></li><li><p>Backup data storage destination</p></li></ul><div class="note"><p class="title">Note</p><div class="notebody"><p>Even if a disk is not defective, the same input-output error messages, as those generated when the disk is defective, may be output. The recovery actions differ for these error messages.</p><p>Check the status of the disk, and select one of the following actions:</p><ul><li><p>If the disk is defective</p><p>Refer to "<a href="b1439-00-15-01-00.html">15.1 Recovering from Disk Failure (Hardware)</a>", and take actions accordingly.</p></li><li><p>If the disk is not defective</p><p>Refer to "<a href="b1439-00-15-14-00.html">15.14 I/O Errors Other than Disk Failure</a>", and take actions accordingly.</p><p>A few examples of errors generated even if the disk is not defective include:</p><ul><li><p>Network error with an external disk</p></li><li><p>Errors caused by power failure or mounting issues</p></li></ul></li></ul></div></div><p></p></div><p class="subhead_1" id="ID07000000N1"><span class="em">Determining the cause of an error</span></p><div class="textblock"><p>If an error occurs, refer to the WebAdmin message and the event log, and determine the cause of the error.</p><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "Configuring Parameters" in the Installation and Setup Guide for Server for information on server logs.</p></div></div></div><p class="subhead_1" id="ID07000000N2"><span class="em">Approximate recovery time</span><a name="N91G"></a><span class="em"></span></p><div class="textblock"><p>The formulas for deriving the approximate recovery time of resources in each directory are given below.</p><p>If using the copy command with the pgx_rcvall command, the recovery time will depend on the implementation of the copy command.</p><ul><li><p>Data storage destination or transaction log storage destination</p><pre class="border">Recovery time = (<span class="i">usageByTheDataStorage</span><span class="i">Destination</span> + <span class="i">usageByTheTransactionLogStorage</span><span class="i">Destination</span>) / <span class="i">diskWritePerformance</span> x 1.5</pre><ul><li><p><span class="i">usageByTheDataStorage</span><span class="i">Destination</span>: Disk space used by the database cluster</p></li><li><p><span class="i">usageByTheTransactionLogStorage</span><span class="i">Destination</span>: Disk space used by the transaction log stored outside the database cluster</p></li><li><p><span class="i">diskWritePerformance</span>: Measured maximum data volume (bytes/second) that can be written per second in the system environment where the operation is performed</p></li><li><p>1.5: Coefficient assuming the time excluding disk write, which is the most time-consuming step</p></li></ul></li><li><p>Backup data storage destination</p><pre class="border">Recovery time = <span class="i">usageByThe</span><span class="i">Backup</span><span class="i">DataStorage</span><span class="i">Destination</span> / <span class="i">diskWritePerformance</span> x 1.5</pre><ul><li><p><span class="i">usageByThe</span><span class="i">Backup</span><span class="i">DataStorage</span><span class="i">Destination</span>: Disk space used by the backup data</p></li><li><p><span class="i">diskWritePerformance</span>: Measured maximum data volume (bytes/second) that can be written per second in the system environment where the operation is performed</p></li><li><p>1.5: Coefficient assuming the time excluding disk write, which is the most time-consuming step</p></li></ul></li></ul></div></div><div class="header_footer"><div class="back_next"><a href="b1439-00-14-04-02.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-00-15-01-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>