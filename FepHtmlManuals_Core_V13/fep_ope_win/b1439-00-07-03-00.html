<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>7.3 Automatically Closing Connections</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Operation Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="b1439-00-07-00-00.html">Chapter&nbsp;7 Periodic Operations</a> &gt; 7.3 Automatically Closing Connections</div><div class="back_next"><a href="b1439-00-07-02-02.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-00-07-04-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h2 id="br063000">7.3 Automatically Closing Connections</h2><div class="body"><div class="textblock"><p>If an application stops responding and abnormally terminates for any reason, the connection from the application may remain active on the database server. If this situation continues for an extended period, other applications attempting to connect to the database server may encounter an error, or an error indicating that the tables are unavailable may occur.</p><p>It is, therefore, recommended that idle connections be closed automatically at regular intervals.</p><p>Set the following parameters in the postgresql.conf file to indicate the time permitted to elapse before a connection is closed.</p><table><col><col><col><tr><th valign="top"><p>Parameter name</p></th><th valign="top"><p>Setting</p></th><th valign="top"><p>Description</p></th></tr><tr><td align="left" valign="top"><p>tcp_keepalives_idle</p></td><td align="left" valign="top"><p>Time until keepalive is sent (seconds)</p><p>If 0, the default value of the system is used.</p></td><td align="left" valign="top"><p>Sends keepalive to an idle connection at the specified interval in seconds</p><p>It is recommended to specify 30 seconds.</p></td></tr><tr><td align="left" valign="top"><p>tcp_keepalives_interval</p></td><td align="left" valign="top"><p>keepalive send interval (seconds)</p><p>If 0, the default value of the system is used.</p></td><td align="left" valign="top"><p>Sends keepalive at the specified interval</p><p>It is recommended to specify 6 seconds.</p></td></tr></table><div class="note"><p class="title">Note</p><div class="notebody"><p>The maximum number of connections allowed is 125, unless the desktop heap setting is changed.</p></div></div><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "Connection Settings" under "Server Administration" in the PostgreSQL Documentation for information on the parameters.</p></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="b1439-00-07-02-02.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-00-07-04-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>