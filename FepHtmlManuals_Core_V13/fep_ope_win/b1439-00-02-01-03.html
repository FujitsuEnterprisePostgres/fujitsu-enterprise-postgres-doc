<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>2.1.2 Using Commands</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Operation Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="b1439-00-02-00-00.html">Chapter&nbsp;2 Starting an Instance and Creating a Database</a> &gt; <a href="b1439-00-02-01-00.html">2.1 Starting and Stopping an Instance</a> &gt; 2.1.2 Using Commands</div><div class="back_next"><a href="b1439-00-02-01-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-00-02-02-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="br021300">2.1.2 Using Commands</h3><div class="body"><div class="textblock"><p>The Windows service-related commands enable you to start or stop an instance and to check its operating state.</p><p>If you are to use Windows services, you should register instances in Windows services.</p><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "When an instance was created with WebAdmin" in "Configuring Automatic Start and Stop of an Instance" in the Installation Guide for Server for information on registering instances in Windows services.</p></div></div><div class="note"><p class="title">Note</p><div class="notebody"><p>While it is also possible for you to execute the pg_ctl command to start and stop instances without having to register instances in Windows services, it is recommended that you use Windows services to start and stop instances for the following reason:</p><ul><li><p>If you use the pg_ctl command to start an instance, the instance will be started as a user process. Therefore, when you close the [Command Prompt] window in which you executed the command, Windows forces the postgres process to stop.</p></li></ul></div></div><p></p></div><p class="subhead_1" id="ID02000000N7"><span class="em">Starting an instance</span><a name="N15G"></a></p><div class="textblock"><p>You can start an instance by specifying the service name in the net start command or sc start command.</p><p>Also, you can use the following procedure to start an instance in the Windows services window:</p><ol><li><p>Display the [Services] window</p><p>In the [Administrative Tools], click [Services].</p></li><li><p>Start a service</p><p>Select the instance name that you wish to start from the services list, and click [Start Service].</p></li></ol></div><p class="subhead_1" id="ID02000000N8"><span class="em">Stopping an instance</span><a name="N16G"></a></p><div class="textblock"><p>You can stop an instance by specifying the service name in the net stop command or sc stop command.</p><p>Also, you can use the following procedure to stop an instance in the Windows services window:</p><ol><li><p>Display the [Services] window</p><p>In the [Administrative Tools], click [Services].</p></li><li><p>Stop the service</p><p>Select the instance name that you wish to stop from the services list, and click [Stop Service]. If you stop a service while applications and commands are running, FUJITSU Enterprise Postgres will force those applications and commands to close and will stop normally.</p></li></ol></div><p class="subhead_1" id="ID02000000N9"><span class="em">Checking the operating state of an instance</span><a name="N17G"></a></p><div class="textblock"><p>Use the following procedure to check if an instance is operating correctly immediately after performing the operation to start an instance:</p><ol><li><p>Display the [Services] window</p><p>In the [Start] menu, select [Administrative Tools], and then click [Services].</p></li><li><p>Check the state of the service</p><p>In the services list, check the state of the services for the applicable FUJITSU Enterprise Postgres.</p></li></ol><p>To check the operating state of an instance during operation, use the pg_ctl command.</p><p>Specify the following in the pg_ctl command:</p><ul><li><p>Specify "status" as the mode.</p></li><li><p>Specify the data storage destination directory in the -D option. If the -D option is omitted, the value of the PGDATA environment variable is used by default.</p></li></ul><div class="ex"><p class="title">Example</p><div class="exbody"><p>When the instance is active:</p><pre class="border">&gt; pg_ctl status -D D:\database\inst1pg_ctl: server is running (PID: 1234)</pre><p>When the instance is inactive:</p><pre class="border">&gt; pg_ctl status -D D:\database\inst1pg_ctl: no server running</pre></div></div><div class="tips"><p class="title">Information</p><div class="tipsbody"><p>You can also use the net start command or sc query command to check the operating state of an instance.</p></div></div><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to "pg_ctl" in "Reference" in the PostgreSQL Documentation for information on the pg_ctl command.</p></div></div></div></div><div class="header_footer"><div class="back_next"><a href="b1439-00-02-01-01.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-00-02-02-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>