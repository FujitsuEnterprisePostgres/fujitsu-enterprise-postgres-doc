<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>B.2 Transparent Data Encryption Control Functions</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Operation Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="b1439-b-00-00.html">Appendix&nbsp;B System Administration Functions</a> &gt; B.2 Transparent Data Encryption Control Functions</div><div class="back_next"><a href="b1439-b-01-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-b-03-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h2 id="br0B2000">B.2 Transparent Data Encryption Control Functions<a name="N124G"></a></h2><div class="body"><div class="textblock"><p>The following table lists the functions that can be used for transparent data encryption.</p><table><caption>Table&nbsp;B.2 Transparent data encryption control functions</caption><col><col><col><tr><th valign="middle"><p>Name</p></th><th valign="middle"><p>Return type</p></th><th valign="middle"><p>Description</p></th></tr><tr><td align="left" valign="top"><p>pgx_open_keystore(<span class="i">passphrase</span>)</p></td><td align="left" valign="top"><p>void</p></td><td align="left" valign="top"><p>Opens the keystore</p></td></tr><tr><td align="left" valign="top"><p>pgx_set_master_key(<span class="i">passphrase</span>)</p></td><td align="left" valign="top"><p>void</p></td><td align="left" valign="top"><p>Sets the master encryption key</p></td></tr><tr><td align="left" valign="top"><p>pgx_set_keystore_passphrase(<span class="i">old</span><span class="i">P</span><span class="i">assphrase</span>, <span class="i">new</span><span class="i">P</span><span class="i">assphrase</span>)</p></td><td align="left" valign="top"><p>void</p></td><td align="left" valign="top"><p>Changes the keystore passphrase</p></td></tr></table><br><p>The pgx_open_keystore function uses the specified passphrase to open the keystore. When the keystore is opened, the master encryption key is loaded into the database server memory. In this way, you can access the encrypted data and create encrypted tablespaces. If the keystore is already open, this function returns an error.</p><p>Only superusers can execute this function. Also, this function cannot be executed within a transaction block.</p><br><p>The pgx_set_master_key function generates a master encryption key and stores it in the keystore. If the keystore does not exist, this function creates a keystore. If the keystore already exists, this function modifies the master encryption key. If the keystore has not been opened, this function opens it.</p><p>The passphrase is a string of 8 to 200 bytes.</p><p>Only superusers can execute this function. Also, this function cannot be executed within a transaction block. Processing is not affected by whether the keystore is open.</p><br><p>The pgx_set_keystore_passphrase function changes the keystore passphrase. Specify the current passphrase in <span class="i">old</span><span class="i">P</span><span class="i">assphrase</span>, and a new passphrase in <span class="i">new</span><span class="i">P</span><span class="i">assphrase</span>.</p><p>The passphrase is a string of 8 to 200 bytes.</p><p>Only superusers can execute this function. Also, this function cannot be executed within a transaction block. Processing is not affected by whether the keystore is open.</p><p></p></div></div><div class="header_footer"><div class="back_next"><a href="b1439-b-01-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-b-03-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>