<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>6.2.1 Creating a Masking Policy</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Operation Guide</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="b1439-00-06-00-00.html">Chapter&nbsp;6 Data Masking</a> &gt; <a href="b1439-00-06-02-00.html">6.2 Usage Method</a> &gt; 6.2.1 Creating a Masking Policy</div><div class="back_next"><a href="b1439-00-06-02-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-00-06-02-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="ID0500-mskN15">6.2.1 Creating a Masking Policy<a name="N63G"></a></h3><div class="body"><div class="textblock"><p>An example of the operation on the server is shown below.</p><ol><li><p>Create a masking policy<br>Execute the pgx_create_confidential_policy system management function to create a masking policy. <br>The following values are configured in this example. <br>- Masking target: Numeric type c1<br>- Masking type: FULL<br>- Masking condition: '1=1'</p><pre class="border">postgres=# select pgx_create_confidential_policy(table_name := 't1', policy_name := 'p1', expression := '1=1', column_name := 'c1', function_type := 'FULL'); pgx_create_confidential_policy --------------------------------- t(1 row)</pre></li><li><p>Confirm the displayed data<br>Confirm that the masking target data (column c1) has been correctly changed.</p><pre class="border">postgres=# select * from t1; c1 |      c2       ----+---------------  0 | 012-3456-7890  0 | 012-3456-7891  0 | 012-3456-7892(3 row)</pre></li></ol><div class="ref"><p class="title">See</p><div class="refbody"><ul><li><p>Refer to "<a href="b1439-b-03-02.html">B.3.2 pgx_create_confidential_policy</a>" for information on the pgx_create_confidential_policy system management function.</p></li></ul></div></div><div class="note"><p class="title">Note</p><div class="notebody"><ul><li><p>Only one masking policy can be created per table.</p></li><li><p>All users can view the masking policy created, so do not grant the login privilege of the database where this feature is set to the users who refer to the changed data. Masking policies are defined in the "pgx_confidential_columns", "pgx_confidential_policies" and "pgx_confidential_values" tables.</p></li></ul></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="b1439-00-06-02-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1439-00-06-02-02.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>