<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>3.2 Installation in Interactive Mode</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Installation and Setup Guide for Server</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2674-00-03-00-00.html">Chapter&nbsp;3 Installation</a> &gt; 3.2 Installation in Interactive Mode</div><div class="back_next"><a href="j2674-00-03-01-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2674-00-03-03-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h2 id="mID_0301">3.2 Installation in Interactive Mode</h2><div class="body"><div class="textblock"><p>Install according to the following procedure:</p><div class="note"><p class="title">Note</p><div class="notebody"><ul><li><p>The following characters can be used as input values:</p><p>Alphanumeric characters, hyphens, commas and forward slashes</p></li><li><p>When reinstalling the product, back up the following folder in which the WebAdmin instance management information is stored:</p><pre><span class="i">webAdminInstallFolder</span>/data/fepwa</pre><p>Follow the procedure below to perform the backup.</p><ol><li><p>Stop the WebAdmin server. Refer to "<a href="j2674-b-01-03.html">B.1.3 Stopping the Web Server Feature of WebAdmin</a>" for details.</p></li><li><p>Back up the following folder:</p><pre><span class="i">webAdminInstallFolder</span>/data/fepwa</pre></li></ol><p>Replace the above folder with the backed up folder when the reinstallation is complete.</p></li></ul></div></div><div class="point"><p class="title">Point</p><div class="pointbody"><p>For installation in interactive mode, default values are set for the installation information. The following settings can be changed for a new installation or a multi-version installation:</p><ul><li><p>Installation directory</p></li><li><p>WebAdmin setup information, if WebAdmin is selected</p><p>To change the port number, confirm that it is an unused port number between 1024 and 32767.</p></li></ul></div></div><p></p></div><p class="subhead_1" id="IDinsts03-slN8"><span class="em">1. Stop applications and program</span><span class="em">s</span></p><div class="textblock"><p>If the installation method is the following, all applications and programs that use the product must be stopped:</p><ul><li><p>Reinstallation</p></li></ul><p>Before starting the installation, stop the following:</p><ul><li><p>Applications that use the product</p></li><li><p>Instance</p></li><li><p>Web server feature of WebAdmin</p><p>Execute the WebAdminStop command to stop the Web server feature of WebAdmin.</p><dl><dt class="em">Example</dt><dd><p>If WebAdmin is installed in /opt/fsepv&lt;<span class="i">x</span>&gt;webadmin:</p><pre class="border"># cd /opt/fsepv&lt;<span class="i">x</span>&gt;webadmin/sbin# ./WebAdminStop</pre></dd></dl></li><li><p>Mirroring Controller</p><p>Execute the mc_ctl command with the stop mode option specified and stop the Mirroring Controller.</p><dl><dt class="em">Example</dt><dd><pre class="border">$ mc_ctl stop -M /mcdir/inst1</pre></dd></dl></li></ul><ul><li><p>pgBadger</p></li><li><p>Pgpool-II</p></li></ul></div><p class="subhead_1" id="IDinsts03-slN9"><span class="em">2.</span><span class="em"> Change to the superuser</span></p><div class="textblock"><p>Run the following command to switch to the superuser on the system.</p><pre class="border">$ su -Password:******</pre></div><p class="subhead_1" id="IDinsts03-slN10"><span class="em">3.</span><span class="em"> Mount the DVD drive</span></p><div class="textblock"><p>Insert the server program DVD into the DVD drive, and run the command given below.</p><dl><dt class="em">Example</dt><dd></dd></dl><pre class="border"># mount -t iso9660 -r -o loop /dev/dvd /media/dvd</pre><p>Here /dev/dvd is the device name for the DVD drive (which may vary depending on your environment), and /media/dvd is the mount point (which may need to be created before calling the command).</p><div class="note"><p class="title">Note</p><div class="notebody"><p>If the DVD was mounted automatically using the automatic mount daemon (autofs), "noexec" is set as the mount option, so the installer may fail to start.  In this case, use the mount command to remount the DVD correctly, and then run the installation. Note that the mount options of a mounted DVD can be checked by executing the mount command without any arguments.</p></div></div></div><p class="subhead_1" id="IDinsts03-slN11"><span class="em">4. Run the installation</span></p><div class="textblock"><p>Execute the following command:</p><dl><dt class="em">Example</dt><dd><pre class="border"># cd /media/dvd # ./install.sh</pre><p>In the example above, /media/dvd is the DVD mount point.</p></dd></dl></div><p class="subhead_1" id="IDinsts03-slN12"><span class="em">5</span><span class="em">. Select the product for installation</span></p><div class="textblock"><p>The list of installation target products is displayed.<br>Type the number for the product to be installed, or "all", and press Enter.</p><div class="tips"><p class="title">Information</p><div class="tipsbody"><ul><li><p>The FUJITSU Enterprise Postgres server component and WebAdmin can be installed on the same machine by selecting the "FUJITSU Enterprise Postgres server component" and the "WebAdmin component".</p></li><li><p>Pgpool-II to be installed on the same server as the database server, you can install it on the same machine by selecting "FUJITSU Enterprise Postgres Server Component" and "Pgpool-II component". Pgpool-II to be installed on the same server as the application server, or on a dedicated server that is different from the database server and application server, see "<a href="j2674-j-00-00.html">Appendix&nbsp;J System Configuration when using Pgpool-II</a>".</p></li><li><p>If the selected product has been installed, a window for selecting reinstallation or multi-version installation is displayed for each product. Follow the on-screen instructions to select the installation method.</p></li></ul></div></div></div><p class="subhead_1" id="IDinsts03-slN13"><span class="em">6. Check the settings</span></p><div class="textblock"><p>The window for checking the installation information is displayed.<br>Type "y" and press Enter to start the installation.<br>To change the settings, type "c", press Enter, and follow the on-screen instructions. This option is not displayed if there is no information that can be modified.<br></p><p>If you have not set up WebAdmin during installation, refer to "<a href="j2674-b-00-00.html">Appendix&nbsp;B Setting Up and Removing WebAdmin</a>" for details.</p></div><p class="subhead_1" id="IDinsts03-slN14"><span class="em">7</span><span class="em">.</span><span class="em"> Check the changed settings</span></p><div class="textblock"><p>If the installation information has been modified, the new installation information is displayed.<br>Type "y" and press Enter to start the installation.<br>To change the settings again, type "c" and press Enter.</p></div><p class="subhead_1" id="mID_0301_jump"><span class="em">8</span><span class="em">. </span><span class="em">Display </span><span class="em">the</span><span class="em"> installation status</span></p><div class="textblock"><p>When the installation is started, the installation status is displayed.</p><p>Note that even if WebAdmin setup fails, the process will continue.</p><p>If the following message is displayed, manually execute WebAdmin setup after installation is completed.<br>Refer to "<a href="j2674-b-01-00.html">B.1 Setting Up WebAdmin</a>" for information on the WebAdmin setup procedure.</p><pre class="border">Starting setup.Setting up WebAdmin.ERROR: WebAdmin setup failed.</pre></div><p class="subhead_1" id="IDinsts03-slN15"><span class="em">9</span><span class="em">.</span><span class="em"> Finish the installation</span></p><div class="textblock"><p>When the installation is complete, a message is displayed showing the status.<br>If installation was successful, a message like the one shown below is displayed:</p><pre class="border">Installed successfully.</pre><div class="note"><p class="title">Note</p><div class="notebody"><p>If an error occurs during the installation, read the error message and remove the cause of the error, and then reexecute the install.sh command.</p></div></div></div></div><div class="header_footer"><div class="back_next"><a href="j2674-00-03-01-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2674-00-03-03-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>