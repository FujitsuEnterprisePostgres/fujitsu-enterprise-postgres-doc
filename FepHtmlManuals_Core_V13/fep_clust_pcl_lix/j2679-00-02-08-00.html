<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>2.8 Registering Resource Information for the FUJITSU Enterprise Postgres Database Cluster</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Cluster Operation Guide(PRIMECLUSTER)</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2679-00-02-00-00.html">Chapter&nbsp;2 Setting Up Failover Operation</a> &gt; 2.8 Registering Resource Information for the FUJITSU Enterprise Postgres Database Cluster</div><div class="back_next"><a href="j2679-00-02-07-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2679-00-02-09-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h2 id="mID_020308">2.8 Registering Resource Information for the FUJITSU Enterprise Postgres Database Cluster<a name="N16G"></a></h2><div class="body"><div class="textblock"><ol><li><p>Use the pgx_pclrsc command to register the database cluster in PRIMECLUSTER - the following is the simplest execution example:<br>The database cluster does not need to be started when executing the command.</p><pre class="border"># pgx_pclrsc -a -c <span class="em"><span class="i">databaseClusterName</span></span> -u <span class="em"><span class="i">O</span></span><span class="em"><span class="i">sUser</span></span> -D <span class="em"><span class="i">pgData</span></span> -w <span class="em"><span class="i">workDir</span></span> -n <span class="em"><span class="i">memberNodes</span></span></pre><table><col><col><tr><th valign="top"><p>Item</p></th><th valign="top"><p>Explanation</p></th></tr><tr><td align="left" valign="top"><p><span class="i">databaseClusterName</span></p></td><td align="left" valign="top"><p>Specify the FUJITSU Enterprise Postgres database cluster name.</p><p>The database cluster name is case-sensitive.</p><p>The database cluster name must be as follows:</p><ul><li><p>Up to 16 bytes, and</p></li><li><p>The first byte must be an ASCII letter, and</p></li><li><p>The other bytes must be ASCII alphanumeric characters, or underscores (_).</p></li></ul></td></tr><tr><td align="left" valign="top"><p><span class="i">O</span><span class="i">sUser</span></p></td><td align="left" valign="top"><p>Specify the operating system user (an OS user that will become the instance administrator) who can start the FUJITSU Enterprise Postgres database server.</p></td></tr><tr><td align="left" valign="top"><p><span class="i">pgData</span></p></td><td align="left" valign="top"><p>Specify the absolute path of the data storage destination directory specified during database cluster creation.</p></td></tr><tr><td align="left" valign="top"><p><span class="i">workDir</span></p></td><td align="left" valign="top"><p>Specify the directory for storing the temporary files required for FUJITSU Enterprise Postgres resource monitoring and state transition, and for storing the trace logs required in case of problems.</p><p>If a parent directory that does not exist is specified, create the directory. The newly created directory path assumes the <span class="i">OsUser</span> specified with the -u option as the owner, and 0700 as the privilege</p><p>Required directory size is twice the size that is specified in the --trace-max-file-size option. If the default value is specified in the --trace-max-file-size option, 10240 KB x 2 is required for the directory size.</p></td></tr><tr><td align="left" valign="top"><p><span class="i">memberNodes</span></p></td><td align="left" valign="top"><p>Specify the names of all nodes that make up the cluster system.</p><p>Use a comma (,) to separate each node name.</p><p>Suffix each cluster node name with the literal "RMS".</p><p>Specification example:</p><p>-n node1RMS,node2RMS</p></td></tr></table></li></ol><p>Other than the above, the following options can be specified:</p><table><col><col><tr><th valign="top"><p>Option</p></th><th valign="top"><p>Explanation</p></th></tr><tr><td align="left" valign="top"><p>--db-user=name</p></td><td align="left" valign="top"><p>Specify the FUJITSU Enterprise Postgres database superuser. The user specified in the -u option is the default.</p></td></tr><tr><td align="left" valign="top"><p>--response-timeout=seconds</p></td><td align="left" valign="top"><p>In cluster operations, queries are regularly issued to the server to perform error detection and state monitoring. </p><p>Specify a timeout time for queries issued for the heartbeat monitoring of the FUJITSU Enterprise Postgres database server.</p><p>For queries, "SELECT 1" for the database "template1" is used. If 0 is specified, queries will not time out. The default is 0.</p></td></tr><tr><td align="left" valign="top"><p>--timeout-retry-count=count</p></td><td align="left" valign="top"><p>Specify the upper limit for the number of retries when queries for monitoring time out.</p><p>The default is 6 times.</p></td></tr><tr><td align="left" valign="top"><p>--trace-max-file-size</p></td><td align="left" valign="top"><p>Specify the maximum size of the trace file. The default is 10240 KB.</p></td></tr><tr><td align="left" valign="top"><p>--watch-interval=seconds</p></td><td align="left" valign="top"><p>Specify the monitoring interval (the interval with which the queries are issued to the server) for a monitoring program to monitor the FUJITSU Enterprise Postgres database server. The default is 3 seconds.</p></td></tr></table><div class="ref"><p class="title">See</p><div class="refbody"><p>Refer to the "<a href="j2679-b-01-00.html">B.1 pgx_pclrsc</a>" for information on the pgx_pclrsc command.</p></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="j2679-00-02-07-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2679-00-02-09-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2018-2021 FUJITSU LIMITED</div></div></body></html>