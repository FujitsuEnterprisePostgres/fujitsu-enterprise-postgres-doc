<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>1.3 Deciding on Operation when a Heartbeat Abnormality is Detected</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Cluster Operation Guide(Database Multiplexing)</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="j2678-00-01-00-00.html">Chapter&nbsp;1 Overview of Database Multiplexing Mode</a> &gt; 1.3 Deciding on Operation when a Heartbeat Abnormality is Detected</div><div class="back_next"><a href="j2678-00-01-02-04.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2678-00-01-04-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h2 id="IDclust05N9">1.3 Deciding on Operation when a Heartbeat Abnormality is Detected<a name="N14G"></a></h2><div class="body"><div class="textblock"><p>The operation to be performed when a heartbeat abnormality is detected using operating system/server heartbeat monitoring is decided on according to the environment where database multiplexing mode is performed or the operating method.</p><p>It is possible to select from the four operations below, and specify this in the parameters of Mirroring Controller:</p><ul><li><p>Use the arbitration server to perform automatic degradation (switch/disconnect)</p></li><li><p>Call the user exit (user command) that will perform the degradation decision, and perform automatic degradation</p></li><li><p>Notification messages</p></li><li><p>Perform automatic degradation unconditionally (switch/disconnect)</p><br></li></ul><p>The table below shows if jobs can be continued on the primary server when an issue is detected during heartbeat monitoring of the operating system/server.</p><p></p></div><p class="subhead_1" id="IDclust05N10"><span class="em">Continuation of jobs on the primary server when an issue is detected </span><span class="em">during</span><span class="em"> heartbeat monitoring of the operating system/server</span></p><div class="textblock"><table><col><col><col><col><col><col><tr><th rowspan="3" valign="middle"><p><span class="em">Operation</span></p></th><th colspan="5" valign="middle"><p><span class="em">Abnormal event</span></p></th></tr><tr><th colspan="2" valign="middle"><p><span class="em">Server/operating system failures or no responses</span></p></th><th rowspan="2" valign="middle"><p><span class="em">Admin network issue</span></p></th><th rowspan="2" valign="middle"><p><span class="em">Log transfer network issue</span></p></th><th rowspan="2" valign="middle"><p><span class="em">Issue on a network for both admin and log transfer</span></p></th></tr><tr><th valign="middle"><p><span class="em">Primary</span><span class="em"> </span><span class="em">server</span></p></th><th valign="middle"><p><span class="em">Standby</span><span class="em"> </span><span class="em">server</span></p></th></tr><tr><td align="left" valign="top"><p>Automatic degradation using the arbitration server</p></td><td align="center" valign="top"><p>Y<br>(switch)</p></td><td align="center" valign="top"><p>Y<br>(disconnect)</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>Y<br>(disconnect)</p></td><td align="center" valign="top"><p>Y</p><p>(disconnect)</p></td></tr><tr><td align="left" valign="top"><p>Call a user exit and perform automatic degradation</p></td><td align="center" valign="top"><p>Y (switch)</p></td><td align="center" valign="top"><p>Y (disconnect)</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>Y<br>(disconnect)</p></td><td align="center" valign="top"><p>Y<br>(disconnect)</p></td></tr><tr><td align="left" valign="top"><p>Notification messages</p></td><td align="center" valign="top"><p>N<br>(message notification only)</p></td><td align="center" valign="top"><p>N<br>(message notification only)</p></td><td align="center" valign="top"><p>Y</p></td><td align="center" valign="top"><p>Y<br>(disconnect)</p></td><td align="center" valign="top"><p>Y<br>(disconnect)</p></td></tr><tr><td align="left" valign="top"><p>Unconditional automatic degradation</p></td><td align="center" valign="top"><p>Y<br>(switch)</p></td><td align="center" valign="top"><p>Y<br>(disconnect)</p></td><td align="center" valign="top"><p>N<br>(split brain occurs)</p></td><td align="center" valign="top"><p>Y<br>(disconnect)</p></td><td align="center" valign="top"><p>N<br>(split brain occurs)</p></td></tr></table><p class="supple">Y: Job can be continued</p><p class="supple">N: Job cannot be continued</p></div></div><div class="header_footer"><div class="back_next"><a href="j2678-00-01-02-04.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="j2678-00-01-04-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2016-2021 FUJITSU LIMITED</div></div></body></html>