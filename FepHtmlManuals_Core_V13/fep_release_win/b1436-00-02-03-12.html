<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>2.3.12 Changing the Status Display of the Mirroring Controller Server</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Release Notes</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="b1436-00-02-00-00.html">Chapter&nbsp;2 Compatibility Information</a> &gt; <a href="b1436-00-02-03-00.html">2.3 Operation Migration Incompatibility</a> &gt; 2.3.12 Changing the Status Display of the Mirroring Controller Server</div><div class="back_next"><a href="b1436-00-02-03-11.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1436-00-02-03-13.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h3 id="mID_02_mc04">2.3.12 Changing the Status Display of the Mirroring Controller Server</h3><div class="body"><div class="textblock"><p></p></div><p class="subhead_1" id="IDchap2-03-opeN24"><span class="em">Incompatibility</span></p><div class="textblock"><p>In FUJITSU Enterprise Postgres 10, the condition for displaying an abnormality for the process (WAL receive process) that receives transaction logs has been changed in regard to the server status display performed in status mode of the mc_ctl command of Mirroring Controller.</p><ul><li><p>Role of the applicable server (host_role): standby (standby)</p></li><li><p>Display item: DBMS process status (db_proc_status)</p></li><li><p>Display content: abnormal (abnormal process name)<br>The applicability for incompatibility is determined based on whether 'wal_receiver' is included in the abnormality process name.</p></li></ul><dl><dt class="em">FUJITSU Enterprise Postgres 9.6 or earlier</dt><dd><p>Displays an abnormality when Mirroring Controller detects that the WAL send process has stopped.</p></dd></dl><dl><dt class="em">FUJITSU Enterprise Postgres 10 or later</dt><dd><p>Displays an abnormality when Mirroring Controller detects that a streaming replication connection has not been established with the primary server using the WAL receive process.</p></dd></dl></div><p class="subhead_1" id="IDchap2-03-opeN25"><span class="em">Action method</span></p><div class="textblock"><p>If there is an application that determines the WAL receive process status from the display content retrieved using status mode of the mc_ctl command, modify as below to determine at the same level of accuracy as previously. However, this is not recommended due to incompatibilities accompanying the improvement in accuracy.</p><ul><li><p>If 'wal_sender' is included in the abnormal process name displayed in the 'abnormal' db_proc_status item of the 'primary' host_role, it is determined that an abnormality has occurred in the WAL receive process.</p></li><li><p>If 'wal_sender' is not included in the abnormal process name displayed in the 'abnormal' db_proc_status item of the 'primary' host_role, it is determined that an abnormality has not occurred in the WAL receive process.</p></li></ul></div></div><div class="header_footer"><div class="back_next"><a href="b1436-00-02-03-11.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1436-00-02-03-13.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>