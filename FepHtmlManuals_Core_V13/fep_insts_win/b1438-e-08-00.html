<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><META CONTENT="4.3" NAME="GeneratorVersion"><title>E.7 Estimating VCI Disk Space Requirements</title><link rel="stylesheet" href="manualmain.css" type="TEXT/CSS"><script language="JavaScript" src="topbutton.js"></script></head><body onload="init()"><div class="topButton" id="topButton0"><a class="topButton" href="#top"><img src="image/top.gif" width="62" height="20" border="0" alt="Top" title="Top"></a></div><div class="top_header"><div class="top_header_title"><a title="Title Page" class="top_link" target="_top" HREF="index.html">Enterprise Postgres 13&nbsp;Installation and Setup Guide for Server</a></div><div class="top_header_graphic"><span class="top_logo"><img src="image/logo-white-fj.gif" width="148" height="32" alt=""></span><span class="top_keygraphic"><img src="image/cover-header-graphic.gif" width="148" height="32" alt="FUJITSU Software"></span></div></div><div class="header_footer"><div class="breadcrumbslist"><a href="b1438-e-00-00.html">Appendix&nbsp;E Estimating Database Disk Space Requirements</a> &gt; E.7 Estimating VCI Disk Space Requirements</div><div class="back_next"><a href="b1438-e-07-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1438-f-00-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div></div><h2 id="mID_0G07">E.7 Estimating VCI Disk Space Requirements</h2><div class="body"><div class="textblock"><p>This section provides the formula for estimating VCI disk space requirements.</p><pre class="border">Disk space = (number of rows in tables) x (number of bytes per row) x (compression ratio) + (WOS size)</pre><dl><dt class="em">Number of bytes per row</dt><dd><pre class="border">Number of bytes per row = (19 + (number of columns specified in CREATE INDEX) / 8                                    + (number of bytes per single column value)) x 1.1</pre><p class="supple">Note: Round up the result to the nearest integer.</p></dd></dl><dl><dt class="em">Compression ratio</dt><dd><p>Specify a value between 0 and 1. Since compression ratio depends on the data being compressed, use actual data or test data that simulates it, then compare the value with the estimation result. As a guide, the compression ratio measured with the Fujitsu sample data is shown below:</p><ul><li><p>Data with high degree of randomness (difficult to compress): Up to approximately 0.9 times.</p></li><li><p>Data with high degree of similarity (easy to compress): Up to approximately 0.5 times.</p></li></ul></dd></dl><dl><dt class="em">WOS size</dt><dd><pre class="border">WOS size = (number of WOS rows) / 185 x 8096</pre><p>One row is added to the number of WOS rows for each INSERT and DELETE, and two rows are added for UPDATE. On the other hand, the number decreases to 520,000 rows or less during conversion to ROS performed by the ROS control daemon.</p></dd></dl><div class="note"><p class="title">Note</p><div class="notebody"><p>VCI does not support retrieval of disk space usage using the database object size function pg_indexes_size. To find out the actual total VCI disk space, check the disk space of the storage directory using an OS command or other method.</p></div></div><p></p></div></div><div class="header_footer"><div class="back_next"><a href="b1438-e-07-00.html"><img src="image/back2.gif" width="65" height="27" border="0" alt="Previous" title="Previous"></a><a href="b1438-f-00-00.html"><img src="image/next2.gif" width="64" height="27" border="0" alt="Next" title="Next"></a></div><div class="copyright">Copyright 2015-2021 FUJITSU LIMITED</div></div></body></html>